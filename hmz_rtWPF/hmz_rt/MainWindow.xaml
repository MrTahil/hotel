<Window x:Class="RoomListApp.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:RoomListApp"
        xmlns:converters="clr-namespace:hmz_rt.Models.Converters"
        mc:Ignorable="d"
        Title="HMZ RT Admin felÃ¼let"
        WindowState="Maximized"
        WindowStartupLocation="CenterScreen"
        Icon="Assets/logo_hmz_icon.ico">

    <Window.Resources>
        <converters:StatusToButtonTextConverter x:Key="StatusToButtonTextConverter"/>
        <converters:BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter"/>
        <converters:PaymentStatusToColorConverter x:Key="PaymentStatusToColorConverter"/>
        <converters:PaymentStatusToVisibilityConverter x:Key="PaymentStatusToVisibilityConverter"/>
        <DropShadowEffect x:Key="BoxShadow" BlurRadius="10" Direction="315" ShadowDepth="3" Opacity="0.2" Color="#000000"/>

        <!-- Card Style -->
        <Style x:Key="DashboardCard" TargetType="Border">
            <Setter Property="CornerRadius" Value="12"/>
            <Setter Property="Padding" Value="20"/>
            <Setter Property="Margin" Value="8"/>
            <Setter Property="Background" Value="#FFFFFF"/>
            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect BlurRadius="15" ShadowDepth="5" Opacity="0.2"/>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <EventTrigger RoutedEvent="MouseEnter">
                    <BeginStoryboard>
                        <Storyboard>
                            <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleX)"
                                           To="1.05" Duration="0:0:0.2"/>
                            <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleY)"
                                           To="1.05" Duration="0:0:0.2"/>
                        </Storyboard>
                    </BeginStoryboard>
                </EventTrigger>
                <EventTrigger RoutedEvent="MouseLeave">
                    <BeginStoryboard>
                        <Storyboard>
                            <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleX)"
                                           To="1" Duration="0:0:0.2"/>
                            <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(ScaleTransform.ScaleY)"
                                           To="1" Duration="0:0:0.2"/>
                        </Storyboard>
                    </BeginStoryboard>
                </EventTrigger>
            </Style.Triggers>
        </Style>

        <!-- Icon Style -->
        <Style x:Key="DashboardIcon" TargetType="TextBlock">
            <Setter Property="FontFamily" Value="Segoe MDL2 Assets"/>
            <Setter Property="FontSize" Value="36"/>
            <Setter Property="Margin" Value="0,0,0,10"/>
            <Setter Property="HorizontalAlignment" Value="Left"/>
        </Style>

        <!-- Title Style -->
        <Style x:Key="DashboardTitle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="TextWrapping" Value="Wrap"/>
        </Style>
        <!-- Button Styles -->
            <Style x:Key="BackButtonStyle" TargetType="Button">
                <Setter Property="Background" Value="#9333EA"/>
                <Setter Property="Foreground" Value="White"/>
                <Setter Property="Padding" Value="15,8"/>
                <Setter Property="Margin" Value="20,0,0,10"/>
                <Setter Property="BorderThickness" Value="0"/>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="Button">
                            <Border CornerRadius="6" Background="{TemplateBinding Background}">
                                <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            </Border>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

            <Style x:Key="AddButtonStyle" TargetType="Button" BasedOn="{StaticResource BackButtonStyle}">
                <Setter Property="Background" Value="#16A34A"/>
            </Style>

            <Style x:Key="EditButtonStyle" TargetType="Button" BasedOn="{StaticResource BackButtonStyle}">
                <Setter Property="Background" Value="#2563EB"/>
            </Style>

            <Style x:Key="DeleteButtonStyle" TargetType="Button" BasedOn="{StaticResource BackButtonStyle}">
                <Setter Property="Background" Value="#DC2626"/>
            </Style>

            <!-- Edit Panel Style -->
            <Style x:Key="EditPanelStyle" TargetType="Border">
            <Setter Property="Padding" Value="20"/>
            <Setter Property="Margin" Value="20,0,20,10"/>
            <Setter Property="Background" Value="White"/>
            <Setter Property="CornerRadius" Value="8"/>
        </Style>

    </Window.Resources>

    <Grid Background="#F5F5F5">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Border Grid.Row="0" Background="White" Padding="20" Margin="0,0,0,20">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <TextBlock x:Name="UserNameDisplay" 
                 Text="" 
                 FontSize="24" 
                 FontWeight="Bold" 
                 VerticalAlignment="Center"/>

                <StackPanel Grid.Column="1" 
                  Orientation="Horizontal" 
                  HorizontalAlignment="Right">
                    <TextBlock x:Name="CurrentTime" 
                     Text="12:00:00" 
                     VerticalAlignment="Center" 
                     Margin="0,0,20,0"/>
                    <Button Content="KijelentkezÃ©s" 
                    Padding="15,8" 
                    Background="#dc2626" 
                    Foreground="White" 
                    BorderThickness="0"
                    Click="LogoutButton_Click">
                        <Button.Resources>
                            <Style TargetType="Border">
                                <Setter Property="CornerRadius" Value="6"/>
                            </Style>
                        </Button.Resources>
                    </Button>
                </StackPanel>
            </Grid>
        </Border>

        <!-- FÅ‘oldal Grid -->
        <UniformGrid x:Name="dashboardGrid" Grid.Row="1" Columns="4" Margin="20" Visibility="Visible">
            <!-- SzobÃ¡k kezelÃ©se -->
            <Border x:Name="szobak_kez" Style="{StaticResource DashboardCard}" Background="#EFF6FF" MouseLeftButtonDown="szobak_kez_MouseLeftButtonDown">
                <Border.RenderTransform>
                    <ScaleTransform/>
                </Border.RenderTransform>
                <StackPanel>
                    <TextBlock Text="&#xE8F4;" Style="{StaticResource DashboardIcon}" Foreground="#2563EB"/>
                    <TextBlock Text="SzobÃ¡k kezelÃ©se" Style="{StaticResource DashboardTitle}" Foreground="#1E3A8A"/>
                </StackPanel>
            </Border>

            <!-- FoglalÃ¡sok kezelÃ©se -->
            <Border Style="{StaticResource DashboardCard}" Background="#F0FDF4" MouseLeftButtonDown="BookingsCard_MouseLeftButtonDown">
                <Border.RenderTransform>
                    <ScaleTransform/>
                </Border.RenderTransform>
                <StackPanel>
                    <TextBlock Text="&#xE787;" Style="{StaticResource DashboardIcon}" Foreground="#16A34A"/>
                    <TextBlock Text="FoglalÃ¡sok kezelÃ©se" Style="{StaticResource DashboardTitle}" Foreground="#14532D"/>
                </StackPanel>
            </Border>


            <!-- DolgozÃ³k kezelÃ©se -->
            <Border Style="{StaticResource DashboardCard}" Background="#FAF5FF" MouseLeftButtonDown="Staff_MouseLeftButtonDown_1">
                <Border.RenderTransform>
                    <ScaleTransform/>
                </Border.RenderTransform>
                <StackPanel>
                    <TextBlock Text="&#xE716;" Style="{StaticResource DashboardIcon}" Foreground="#9333EA"/>
                    <TextBlock Text="DolgozÃ³k kezelÃ©se" Style="{StaticResource DashboardTitle}" Foreground="#581C87"/>
                </StackPanel>
            </Border>

            <!-- Szoba takarÃ­tÃ¡s kezelÃ©se -->
            <Border Style="{StaticResource DashboardCard}" 
        Background="#FEFCE8" 
        MouseLeftButtonDown="MaintenanceCard_MouseLeftButtonDown">
                <Border.RenderTransform>
                    <ScaleTransform/>
                </Border.RenderTransform>
                <StackPanel>
                    <TextBlock Text="&#xE73E;" Style="{StaticResource DashboardIcon}" Foreground="#CA8A04"/>
                    <TextBlock Text="Szoba takarÃ­tÃ¡s kezelÃ©se" Style="{StaticResource DashboardTitle}" Foreground="#713F12"/>
                </StackPanel>
            </Border>


            <!-- Ã‰rtesÃ­tÃ©sek kezelÃ©se -->
            <Border Style="{StaticResource DashboardCard}" MouseLeftButtonDown="Notifications_MouseLeftButtonDown" Background="#FEF2F2">
                <Border.RenderTransform>
                    <ScaleTransform/>
                </Border.RenderTransform>
                <StackPanel>
                    <TextBlock Text="&#xE7E7;" Style="{StaticResource DashboardIcon}" Foreground="#DC2626"/>
                    <TextBlock Text="Ã‰rtesÃ­tÃ©sek kezelÃ©se" Style="{StaticResource DashboardTitle}" Foreground="#7F1D1D"/>
                </StackPanel>
            </Border>

            <!-- Email kikÃ¼ldÃ©se -->
            <Border Style="{StaticResource DashboardCard}" Background="#EEF2FF" MouseLeftButtonDown="EmailCard_MouseLeftButtonDown">
                <Border.RenderTransform>
                    <ScaleTransform/>
                </Border.RenderTransform>
                <StackPanel>
                    <TextBlock Text="&#xE715;" Style="{StaticResource DashboardIcon}" Foreground="#4F46E5"/>
                    <TextBlock Text="Email kikÃ¼ldÃ©se" Style="{StaticResource DashboardTitle}" Foreground="#312E81"/>
                </StackPanel>
            </Border>


            <!-- BeosztÃ¡sok -->
            <Border Style="{StaticResource DashboardCard}" MouseLeftButtonDown="Schedules_MouseLeftButtonDown" Background="#FFF7ED">
                <Border.RenderTransform>
                    <ScaleTransform/>
                </Border.RenderTransform>
                <StackPanel>
                    <TextBlock Text="&#xE121;" Style="{StaticResource DashboardIcon}" Foreground="#EA580C"/>
                    <TextBlock Text="BeosztÃ¡sok" Style="{StaticResource DashboardTitle}" Foreground="#7C2D12"/>
                </StackPanel>
            </Border>

            <!-- EsemÃ©nyek kezelÃ©se -->
            <Border Style="{StaticResource DashboardCard}" Background="#F0FDFA" MouseLeftButtonDown="EventsCard_MouseLeftButtonDown">
                <Border.RenderTransform>
                    <ScaleTransform/>
                </Border.RenderTransform>
                <StackPanel>
                    <TextBlock Text="&#xE787;" Style="{StaticResource DashboardIcon}" Foreground="#0D9488"/>
                    <TextBlock Text="EsemÃ©nyek kezelÃ©se" Style="{StaticResource DashboardTitle}" Foreground="#134E4A"/>
                </StackPanel>
            </Border>

            <!-- Loyalty program -->
            <Border Style="{StaticResource DashboardCard}" MouseLeftButtonDown="LoyaltyProgram_MouseLeftButtonDown" Background="#FDF2F8">
                <Border.RenderTransform>
                    <ScaleTransform/>
                </Border.RenderTransform>
                <StackPanel>
                    <TextBlock Text="&#xE1CB;" Style="{StaticResource DashboardIcon}" Foreground="#DB2775"/>
                    <TextBlock Text="Loyalty program" Style="{StaticResource DashboardTitle}" Foreground="#831843"/>
                </StackPanel>
            </Border>

            <!-- PromÃ³ciÃ³k kezelÃ©se -->
            <Border Style="{StaticResource DashboardCard}" Background="#FFFBEB" MouseLeftButtonDown="PromotionsCard_MouseLeftButtonDown">
                <Border.RenderTransform>
                    <ScaleTransform/>
                </Border.RenderTransform>
                <StackPanel>
                    <TextBlock Text="&#xE789;" Style="{StaticResource DashboardIcon}" Foreground="#D97706"/>
                    <TextBlock Text="PromÃ³ciÃ³k kezelÃ©se" Style="{StaticResource DashboardTitle}" Foreground="#78350F"/>
                </StackPanel>
            </Border>
            <!-- VendÃ©gek kezelÃ©se -->
            <Border Style="{StaticResource DashboardCard}" Background="#F0FDF4" MouseLeftButtonDown="Guest_MouseLeftButtonDown">
                <Border.RenderTransform>
                    <ScaleTransform/>
                </Border.RenderTransform>
                <StackPanel>
                    <TextBlock Text="&#xE77B;" 
                 Style="{StaticResource DashboardIcon}" 
                 Foreground="#0D9488"/>
                    <TextBlock Text="VendÃ©gek kezelÃ©se" 
                 Style="{StaticResource DashboardTitle}" 
                 Foreground="#14532D"/>
                </StackPanel>
            </Border>


        </UniformGrid>

        <!-- Rooms Container -->
        <Grid x:Name="roomsContainer" Grid.Row="1" Visibility="Collapsed">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- FelsÅ‘ fejlÃ©c Ã©s menÃ¼ -->
            <Grid Grid.Row="0" Background="#1E293B" Margin="0,0,0,25">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>




                <!-- Vissza gomb -->
                <Button Grid.Column="0" 
         x:Name="RoomsBackButton"
         Content="â¬… Vissza" 
         HorizontalAlignment="Left" 
         Margin="30,20" 
         Padding="25,15" 
         Background="#3B82F6" 
         Foreground="White" 
         BorderThickness="0"
         FontSize="18"
         Click="BackButton_Click">
                    <Button.Resources>
                        <Style TargetType="Border">
                            <Setter Property="CornerRadius" Value="8"/>
                        </Style>
                    </Button.Resources>
                </Button>

                <!-- CÃ­m -->
                <TextBlock Grid.Column="1" 
                   Text="SzobÃ¡k KezelÃ©se" 
                   VerticalAlignment="Center" 
                   HorizontalAlignment="Center" 
                   FontSize="32" 
                   FontWeight="SemiBold" 
                   Foreground="White"/>

                <!-- MÅ±veleti gombok -->
                <StackPanel Grid.Column="2" Orientation="Horizontal" Margin="30,20">
                    <Button x:Name="RefreshRoomsButton" 
                    Content="ðŸ”„ FrissÃ­tÃ©s" 
                    Margin="5,0" 
                    Padding="15,12"
                    Background="#6366F1" 
                    Foreground="White" 
                    BorderThickness="0"
                    FontSize="16"
                    Click="RefreshRoomsButton_Click">
                        <Button.Resources>
                            <Style TargetType="Border">
                                <Setter Property="CornerRadius" Value="8"/>
                            </Style>
                        </Button.Resources>
                    </Button>

                    <Button x:Name="AddRoomButton"
                    Content="âž• Ãšj szoba" 
                    Margin="5,0" 
                    Padding="15,12" 
                    Background="#16A34A" 
                    Foreground="White" 
                    BorderThickness="0"
                    FontSize="16"
                    Click="AddRoomButton_Click">
                        <Button.Resources>
                            <Style TargetType="Border">
                                <Setter Property="CornerRadius" Value="8"/>
                            </Style>
                        </Button.Resources>
                    </Button>

                    <Button x:Name="EditRoomButton"
                    Content="âœï¸ SzerkesztÃ©s" 
                    Margin="5,0" 
                    Padding="15,12" 
                    Background="#2563EB" 
                    Foreground="White" 
                    BorderThickness="0"
                    FontSize="16"
                    Click="EditRoomButton_Click">
                        <Button.Resources>
                            <Style TargetType="Border">
                                <Setter Property="CornerRadius" Value="8"/>
                            </Style>
                        </Button.Resources>
                    </Button>

                    <Button x:Name="DeleteRoomButton"
                    Content="ðŸ—‘ï¸ TÃ¶rlÃ©s" 
                    Margin="5,0" 
                    Padding="15,12" 
                    Background="#DC2626" 
                    Foreground="White" 
                    BorderThickness="0"
                    FontSize="16"
                    Click="DeleteRoomButton_Click">
                        <Button.Resources>
                            <Style TargetType="Border">
                                <Setter Property="CornerRadius" Value="8"/>
                            </Style>
                        </Button.Resources>
                    </Button>
                </StackPanel>
            </Grid>

            <Grid Grid.Row="1">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <!-- SzobÃ¡k listÃ¡ja - Ãºj stÃ­lus -->
                <ListView x:Name="roomsListView" 
                  Grid.Column="0" 
                  Margin="40,0,40,40" 
                  BorderThickness="1"
                  BorderBrush="#E2E8F0"
                  Background="White"
                  FontSize="16">
                    <ListView.View>
                        <GridView>
                            <GridViewColumn Header="SzobaszÃ¡m" DisplayMemberBinding="{Binding RoomNumber}" Width="Auto"/>
                            <GridViewColumn Header="TÃ­pus" DisplayMemberBinding="{Binding RoomType}" Width="Auto"/>
                            <GridViewColumn Header="KapacitÃ¡s" DisplayMemberBinding="{Binding Capacity}" Width="Auto"/>
                            <GridViewColumn Header="Ãr/Ã©j" DisplayMemberBinding="{Binding PricePerNight, StringFormat='{}{0:N0} Ft'}" Width="Auto"/>
                            <GridViewColumn Header="Ãllapot" DisplayMemberBinding="{Binding Status}" Width="Auto"/>
                            <GridViewColumn Header="Emelet" DisplayMemberBinding="{Binding FloorNumber}" Width="Auto"/>
                            <GridViewColumn Header="HozzÃ¡adva" DisplayMemberBinding="{Binding DateAdded, StringFormat='{}{0:yyyy.MM.dd}'}" Width="Auto"/>
                            <GridViewColumn Header="LeÃ­rÃ¡s" DisplayMemberBinding="{Binding Description}" Width="Auto"/>
                        </GridView>
                    </ListView.View>
                    <ListView.ItemContainerStyle>
                        <Style TargetType="ListViewItem">
                            <Setter Property="HorizontalContentAlignment" Value="Stretch" />
                            <Setter Property="Padding" Value="10,8" />
                            <Setter Property="Height" Value="45" />
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding Status}" Value="Foglalt">
                                    <Setter Property="Background" Value="#FEE2E2" />
                                </DataTrigger>
                                <DataTrigger Binding="{Binding Status}" Value="Szabad">
                                    <Setter Property="Background" Value="#DCFCE7" />
                                </DataTrigger>
                                <DataTrigger Binding="{Binding Status}" Value="TakarÃ­tÃ¡s alatt">
                                    <Setter Property="Background" Value="#FEF3C7" />
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </ListView.ItemContainerStyle>
                </ListView>

                <!-- Szoba szerkesztÅ‘ panel - Ãºj stÃ­lus -->
                <Border x:Name="roomEditPanel" 
                Grid.Column="1" 
                Padding="40" 
                Margin="0,0,40,40" 
                Background="White" 
                CornerRadius="16" 
                BorderThickness="1"
                BorderBrush="#E2E8F0"
                Effect="{StaticResource BoxShadow}"
                Width="450" 
                Visibility="Collapsed">
                    <ScrollViewer VerticalScrollBarVisibility="Auto">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>

                            <!-- FejlÃ©c -->
                            <TextBlock Grid.Row="0" 
                               x:Name="roomEditTitle" 
                               Text="Szoba szerkesztÃ©se" 
                               FontSize="28" 
                               FontWeight="SemiBold" 
                               Margin="0,0,0,30"/>

                            <!-- Å°rlap mezÅ‘k - kÃ¡rtyaszerÅ±en -->
                            <StackPanel Grid.Row="1">
                                <Border Margin="0,0,0,20" BorderThickness="1" BorderBrush="#E2E8F0" CornerRadius="12" Padding="20">
                                    <StackPanel>
                                        <TextBlock Text="SzobaszÃ¡m" FontWeight="SemiBold" FontSize="18" Margin="0,0,0,15"/>
                                        <TextBox x:Name="RoomNumberTextBox" Padding="15,12" FontSize="16"/>
                                    </StackPanel>
                                </Border>

                                <Border Margin="0,0,0,20" BorderThickness="1" BorderBrush="#E2E8F0" CornerRadius="12" Padding="20">
                                    <StackPanel>
                                        <TextBlock Text="Szoba tÃ­pusa" FontWeight="SemiBold" FontSize="18" Margin="0,0,0,15"/>
                                        <ComboBox x:Name="RoomTypeComboBox" Padding="15,12" FontSize="16">
                                            <ComboBoxItem Content="EgyÃ¡gyas"/>
                                            <ComboBoxItem Content="KÃ©tÃ¡gyas"/>
                                            <ComboBoxItem Content="CsalÃ¡di"/>
                                            <ComboBoxItem Content="LakosztÃ¡ly"/>
                                            <ComboBoxItem Content="Luxus"/>
                                        </ComboBox>
                                    </StackPanel>
                                </Border>

                                <Border Margin="0,0,0,20" BorderThickness="1" BorderBrush="#E2E8F0" CornerRadius="12" Padding="20">
                                    <StackPanel>
                                        <TextBlock Text="KapacitÃ¡s" FontWeight="SemiBold" FontSize="18" Margin="0,0,0,15"/>
                                        <TextBox x:Name="CapacityTextBox" Padding="15,12" FontSize="16"  PreviewTextInput="NumberOnlyTextBox_PreviewTextInput"/>
                                    </StackPanel>
                                </Border>

                                <Border Margin="0,0,0,20" BorderThickness="1" BorderBrush="#E2E8F0" CornerRadius="12" Padding="20">
                                    <StackPanel>
                                        <TextBlock Text="Ãr/Ã©j" FontWeight="SemiBold" FontSize="18" Margin="0,0,0,15"/>
                                        <TextBox x:Name="PricePerNightTextBox" Padding="15,12" FontSize="16" PreviewTextInput="DecimalOnlyTextBox_PreviewTextInput"/>
                                    </StackPanel>
                                </Border>

                                <Border Margin="0,0,0,20" BorderThickness="1" BorderBrush="#E2E8F0" CornerRadius="12" Padding="20">
                                    <StackPanel>
                                        <TextBlock Text="Ãllapot" FontWeight="SemiBold" FontSize="18" Margin="0,0,0,15"/>
                                        <ComboBox x:Name="RoomStatusComboBox" Padding="15,12" FontSize="16">
                                            <ComboBoxItem Content="Szabad"/>
                                            <ComboBoxItem Content="Foglalt"/>
                                            <ComboBoxItem Content="TakarÃ­tÃ¡s alatt"/>
                                            <ComboBoxItem Content="KarbantartÃ¡s alatt"/>
                                            <ComboBoxItem Content="Nem elÃ©rhetÅ‘"/>
                                        </ComboBox>
                                    </StackPanel>
                                </Border>

                                <Border Margin="0,0,0,20" BorderThickness="1" BorderBrush="#E2E8F0" CornerRadius="12" Padding="20">
                                    <StackPanel>
                                        <TextBlock Text="Emelet" FontWeight="SemiBold" FontSize="18" Margin="0,0,0,15"/>
                                        <TextBox x:Name="FloorNumberTextBox" Padding="15,12" FontSize="16" PreviewTextInput="NumberOnlyTextBox_PreviewTextInput"/>
                                    </StackPanel>
                                </Border>

                                <Border Margin="0,0,0,20" BorderThickness="1" BorderBrush="#E2E8F0" CornerRadius="12" Padding="20">
                                    <StackPanel>
                                        <TextBlock Text="LeÃ­rÃ¡s" FontWeight="SemiBold" FontSize="18" Margin="0,0,0,15"/>
                                        <TextBox x:Name="RoomDescriptionTextBox" 
                                         TextWrapping="Wrap" 
                                         AcceptsReturn="True" 
                                         Height="100" 
                                         Padding="15,12" 
                                         FontSize="16"/>
                                    </StackPanel>
                                </Border>


                                <!-- MÅ±veleti gombok -->
                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,20,0,0">
                                    <Button Content="MÃ©gse" 
                                    Padding="25,15" 
                                    Margin="0,0,10,0" 
                                    Background="#6B7280" 
                                    Foreground="White" 
                                    BorderThickness="0"
                                    FontSize="16"
                                    Click="CancelRoomEditButton_Click">
                                        <Button.Resources>
                                            <Style TargetType="Border">
                                                <Setter Property="CornerRadius" Value="8"/>
                                            </Style>
                                        </Button.Resources>
                                    </Button>
                                    <Button Content="MentÃ©s" 
                                    Padding="25,15" 
                                    Background="#16A34A" 
                                    Foreground="White" 
                                    BorderThickness="0"
                                    FontSize="16"
                                    Click="SaveRoomButton_Click">
                                        <Button.Resources>
                                            <Style TargetType="Border">
                                                <Setter Property="CornerRadius" Value="8"/>
                                            </Style>
                                        </Button.Resources>
                                    </Button>
                                </StackPanel>
                            </StackPanel>
                        </Grid>
                    </ScrollViewer>
                </Border>
            </Grid>
        </Grid>
        <!-- Staff Container -->
        <Grid x:Name="staffContainer" Grid.Row="1" Visibility="Collapsed">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- FelsÅ‘ fejlÃ©c Ã©s menÃ¼ -->
            <Grid Grid.Row="0" Background="#1E293B" Margin="0,0,0,25">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" MinWidth="100"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>



                <!-- Vissza gomb -->
                <Button Grid.Column="0" 
                        x:Name="StaffBackButton"
                        Content="â¬… Vissza" 
                        HorizontalAlignment="Left" 
                        Margin="30,20" 
                        Padding="25,15" 
                        Background="#3B82F6" 
                        Foreground="White" 
                        BorderThickness="0"
                        FontSize="18"
                        Click="StaffBackButton_Click">
                    <Button.Resources>
                        <Style TargetType="Border">
                            <Setter Property="CornerRadius" Value="8"/>
                        </Style>
                    </Button.Resources>
                </Button>




                <!-- CÃ­m -->
                <TextBlock Grid.Column="1" 
                   Text="SzemÃ©lyzet KezelÃ©se" 
                   VerticalAlignment="Center" 
                   HorizontalAlignment="Center" 
                   FontSize="32" 
                   FontWeight="SemiBold" 
                   Foreground="White"/>

                <!-- MÅ±veleti gombok -->
                <StackPanel Grid.Column="2" Orientation="Horizontal" Margin="30,20">
                    <Button x:Name="RefreshStaffButton" 
                    Content="ðŸ”„ FrissÃ­tÃ©s" 
                    Margin="5,0" 
                    Padding="15,12"
                    Background="#6366F1" 
                    Foreground="White" 
                    BorderThickness="0"
                    FontSize="16"
                    Click="RefreshStaffButton_Click">
                        <Button.Resources>
                            <Style TargetType="Border">
                                <Setter Property="CornerRadius" Value="8"/>
                            </Style>
                        </Button.Resources>
                    </Button>

                    <Button x:Name="AddStaffButton"
                    Content="âž• Ãšj dolgozÃ³" 
                    Margin="5,0" 
                    Padding="15,12" 
                    Background="#16A34A" 
                    Foreground="White" 
                    BorderThickness="0"
                    FontSize="16"
                    Click="AddStaffButton_Click">
                        <Button.Resources>
                            <Style TargetType="Border">
                                <Setter Property="CornerRadius" Value="8"/>
                            </Style>
                        </Button.Resources>
                    </Button>

                    <Button x:Name="EditStaffButton"
                    Content="âœï¸ SzerkesztÃ©s" 
                    Margin="5,0" 
                    Padding="15,12" 
                    Background="#2563EB" 
                    Foreground="White" 
                    BorderThickness="0"
                    FontSize="16"
                    Click="EditStaffButton_Click">
                        <Button.Resources>
                            <Style TargetType="Border">
                                <Setter Property="CornerRadius" Value="8"/>
                            </Style>
                        </Button.Resources>
                    </Button>

                    <Button x:Name="DeleteStaffButton"
                    Content="ðŸ—‘ï¸ TÃ¶rlÃ©s" 
                    Margin="5,0" 
                    Padding="15,12" 
                    Background="#DC2626" 
                    Foreground="White" 
                    BorderThickness="0"
                    FontSize="16"
                    Click="DeleteStaffButton_Click">
                        <Button.Resources>
                            <Style TargetType="Border">
                                <Setter Property="CornerRadius" Value="8"/>
                            </Style>
                        </Button.Resources>
                    </Button>
                </StackPanel>
            </Grid>

            <Grid Grid.Row="1">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <!-- SzemÃ©lyzet listÃ¡ja - Ãºj stÃ­lus -->
                <ListView x:Name="staffListView" 
                  Grid.Column="0" 
                  Margin="40,0,40,40" 
                  BorderThickness="1"
                  BorderBrush="#E2E8F0"
                  Background="White"
                  FontSize="16">
                    <ListView.View>
                        <GridView>
                            <GridViewColumn Header="VezetÃ©knÃ©v" DisplayMemberBinding="{Binding LastName}" Width="Auto"/>
                            <GridViewColumn Header="KeresztnÃ©v" DisplayMemberBinding="{Binding FirstName}" Width="Auto"/>
                            <GridViewColumn Header="Email" DisplayMemberBinding="{Binding Email}" Width="Auto"/>
                            <GridViewColumn Header="TelefonszÃ¡m" DisplayMemberBinding="{Binding PhoneNumber}" Width="Auto"/>
                            <GridViewColumn Header="PozÃ­ciÃ³" DisplayMemberBinding="{Binding Position}" Width="Auto"/>
                            <GridViewColumn Header="FizetÃ©s" DisplayMemberBinding="{Binding Salary, StringFormat='{}{0:N0} Ft'}" Width="Auto"/>
                            <GridViewColumn Header="StÃ¡tusz" DisplayMemberBinding="{Binding Status}" Width="Auto"/>
                            <GridViewColumn Header="RÃ©szleg" DisplayMemberBinding="{Binding Department}" Width="Auto"/>
                        </GridView>
                    </ListView.View>
                    <ListView.ItemContainerStyle>
                        <Style TargetType="ListViewItem">
                            <Setter Property="HorizontalContentAlignment" Value="Stretch" />
                            <Setter Property="Padding" Value="10,8" />
                            <Setter Property="Height" Value="45" />
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding Status}" Value="AktÃ­v">
                                    <Setter Property="Background" Value="#DCFCE7" />
                                </DataTrigger>
                                <DataTrigger Binding="{Binding Status}" Value="InaktÃ­v">
                                    <Setter Property="Background" Value="#FEE2E2" />
                                </DataTrigger>
                                <DataTrigger Binding="{Binding Status}" Value="SzabadsÃ¡gon">
                                    <Setter Property="Background" Value="#FEF3C7" />
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </ListView.ItemContainerStyle>
                </ListView>

                <!-- SzemÃ©lyzet szerkesztÅ‘ panel - Ãºj stÃ­lus -->
                <Border x:Name="staffEditPanel" 
                Grid.Column="1" 
                Padding="40" 
                Margin="0,0,40,40" 
                Background="White" 
                CornerRadius="16" 
                BorderThickness="1"
                BorderBrush="#E2E8F0"
                Effect="{StaticResource BoxShadow}"
                Width="450" 
                Visibility="Collapsed">
                    <ScrollViewer VerticalScrollBarVisibility="Auto">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>

                            <!-- FejlÃ©c -->
                            <TextBlock Grid.Row="0" 
                               Text="DolgozÃ³ szerkesztÃ©se" 
                               FontSize="28" 
                               FontWeight="SemiBold" 
                               Margin="0,0,0,30"/>

                            <!-- Å°rlap mezÅ‘k - kÃ¡rtyaszerÅ±en -->
                            <StackPanel Grid.Row="1">
                                <Border Margin="0,0,0,20" BorderThickness="1" BorderBrush="#E2E8F0" CornerRadius="12" Padding="20">
                                    <StackPanel>
                                        <TextBlock Text="VezetÃ©knÃ©v" FontWeight="SemiBold" FontSize="18" Margin="0,0,0,15"/>
                                        <TextBox x:Name="LastNameTextBox" Padding="15,12" FontSize="16"/>
                                    </StackPanel>
                                </Border>

                                <Border Margin="0,0,0,20" BorderThickness="1" BorderBrush="#E2E8F0" CornerRadius="12" Padding="20">
                                    <StackPanel>
                                        <TextBlock Text="KeresztnÃ©v" FontWeight="SemiBold" FontSize="18" Margin="0,0,0,15"/>
                                        <TextBox x:Name="FirstNameTextBox" Padding="15,12" FontSize="16"/>
                                    </StackPanel>
                                </Border>

                                <Border Margin="0,0,0,20" BorderThickness="1" BorderBrush="#E2E8F0" CornerRadius="12" Padding="20">
                                    <StackPanel>
                                        <TextBlock Text="Email" FontWeight="SemiBold" FontSize="18" Margin="0,0,0,15"/>
                                        <TextBox x:Name="StaffEmailTextBox" Padding="15,12" FontSize="16"/>
                                    </StackPanel>
                                </Border>

                                <Border Margin="0,0,0,20" BorderThickness="1" BorderBrush="#E2E8F0" CornerRadius="12" Padding="20">
                                    <StackPanel>
                                        <TextBlock Text="TelefonszÃ¡m" FontWeight="SemiBold" FontSize="18" Margin="0,0,0,15"/>
                                        <TextBox x:Name="PhoneTextBox" Padding="15,12" FontSize="16"/>
                                    </StackPanel>
                                </Border>

                                <Border Margin="0,0,0,20" BorderThickness="1" BorderBrush="#E2E8F0" CornerRadius="12" Padding="20">
                                    <StackPanel>
                                        <TextBlock Text="PozÃ­ciÃ³" FontWeight="SemiBold" FontSize="18" Margin="0,0,0,15"/>
                                        <TextBox x:Name="PositionTextBox" Padding="15,12" FontSize="16"/>
                                    </StackPanel>
                                </Border>

                                <Border Margin="0,0,0,20" BorderThickness="1" BorderBrush="#E2E8F0" CornerRadius="12" Padding="20">
                                    <StackPanel>
                                        <TextBlock Text="FizetÃ©s" FontWeight="SemiBold" FontSize="18" Margin="0,0,0,15"/>
                                        <TextBox x:Name="SalaryTextBox" Padding="15,12" FontSize="16" PreviewTextInput="SalaryTextBox_PreviewTextInput"/>
                                    </StackPanel>
                                </Border>

                                <Border Margin="0,0,0,20" BorderThickness="1" BorderBrush="#E2E8F0" CornerRadius="12" Padding="20">
                                    <StackPanel>
                                        <TextBlock Text="RÃ©szleg" FontWeight="SemiBold" FontSize="18" Margin="0,0,0,15"/>
                                        <TextBox x:Name="DepartmentTextBox" Padding="15,12" FontSize="16"/>
                                    </StackPanel>
                                </Border>

                                <Border Margin="0,0,0,20" BorderThickness="1" BorderBrush="#E2E8F0" CornerRadius="12" Padding="20">
                                    <StackPanel>
                                        <TextBlock Text="StÃ¡tusz" FontWeight="SemiBold" FontSize="18" Margin="0,0,0,15"/>
                                        <ComboBox x:Name="StatusComboBox" Padding="15,12" FontSize="16">
                                            <ComboBoxItem Content="AktÃ­v"/>
                                            <ComboBoxItem Content="InaktÃ­v"/>
                                            <ComboBoxItem Content="SzabadsÃ¡gon"/>
                                            <ComboBoxItem Content="BetegÃ¡llomÃ¡ny"/>
                                        </ComboBox>
                                    </StackPanel>
                                </Border>

                                <!-- MÅ±veleti gombok -->
                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,20,0,0">
                                    <Button Content="MÃ©gse" 
                                    Padding="25,15" 
                                    Margin="0,0,10,0" 
                                    Background="#6B7280" 
                                    Foreground="White" 
                                    BorderThickness="0"
                                    FontSize="16"
                                    Click="CancelEditButton_Click">
                                        <Button.Resources>
                                            <Style TargetType="Border">
                                                <Setter Property="CornerRadius" Value="8"/>
                                            </Style>
                                        </Button.Resources>
                                    </Button>
                                    <Button Content="MentÃ©s" 
                                    Padding="25,15" 
                                    Background="#16A34A" 
                                    Foreground="White" 
                                    BorderThickness="0"
                                    FontSize="16"
                                    Click="SaveStaffButton_Click">
                                        <Button.Resources>
                                            <Style TargetType="Border">
                                                <Setter Property="CornerRadius" Value="8"/>
                                            </Style>
                                        </Button.Resources>
                                    </Button>
                                </StackPanel>
                            </StackPanel>
                        </Grid>
                    </ScrollViewer>
                </Border>
            </Grid>
        </Grid>
        <!-- PromÃ³ciÃ³k kontÃ©ner -->
        <Grid x:Name="promotionsContainer" Grid.Row="1" Visibility="Collapsed">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- FelsÅ‘ fejlÃ©c Ã©s menÃ¼ -->
            <Grid Grid.Row="0" Background="#1E293B" Margin="0,0,0,25">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" MinWidth="100"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>


                <!-- Vissza gomb -->
                <Button Grid.Column="0" 
x:Name="PromotionsBackButton"
Content="â¬… Vissza" 
HorizontalAlignment="Left" 
Margin="30,20" 
Padding="25,15" 
Background="#3B82F6" 
Foreground="White" 
BorderThickness="0"
FontSize="18"
Click="PromotionsBackButton_Click">
                    <Button.Resources>
                        <Style TargetType="Border">
                            <Setter Property="CornerRadius" Value="8"/>
                        </Style>
                    </Button.Resources>
                </Button>



                <!-- CÃ­m -->
                <TextBlock Grid.Column="1" 
                   Text="PromÃ³ciÃ³k KezelÃ©se" 
                   VerticalAlignment="Center" 
                   HorizontalAlignment="Center" 
                   FontSize="32" 
                   FontWeight="SemiBold" 
                   Foreground="White"/>

                <!-- MÅ±veleti gombok -->
                <StackPanel Grid.Column="2" Orientation="Horizontal" Margin="30,20">
                    <Button x:Name="RefreshPromotionsButton" 
                    Content="ðŸ”„ FrissÃ­tÃ©s" 
                    Margin="5,0" 
                    Padding="15,12"
                    Background="#6366F1" 
                    Foreground="White" 
                    BorderThickness="0"
                    FontSize="16"
                    Click="RefreshPromotionsButton_Click">
                        <Button.Resources>
                            <Style TargetType="Border">
                                <Setter Property="CornerRadius" Value="8"/>
                            </Style>
                        </Button.Resources>
                    </Button>

                    <Button x:Name="AddPromotionButton"
                    Content="âž• Ãšj promÃ³ciÃ³" 
                    Margin="5,0" 
                    Padding="15,12" 
                    Background="#16A34A" 
                    Foreground="White" 
                    BorderThickness="0"
                    FontSize="16"
                    Click="AddPromotionButton_Click">
                        <Button.Resources>
                            <Style TargetType="Border">
                                <Setter Property="CornerRadius" Value="8"/>
                            </Style>
                        </Button.Resources>
                    </Button>

                    <Button x:Name="EditPromotionButton"
                    Content="âœï¸ SzerkesztÃ©s" 
                    Margin="5,0" 
                    Padding="15,12" 
                    Background="#2563EB" 
                    Foreground="White" 
                    BorderThickness="0"
                    FontSize="16"
                    Click="EditPromotionButton_Click">
                        <Button.Resources>
                            <Style TargetType="Border">
                                <Setter Property="CornerRadius" Value="8"/>
                            </Style>
                        </Button.Resources>
                    </Button>

                    <Button x:Name="DeletePromotionButton"
                    Content="ðŸ—‘ï¸ TÃ¶rlÃ©s" 
                    Margin="5,0" 
                    Padding="15,12" 
                    Background="#DC2626" 
                    Foreground="White" 
                    BorderThickness="0"
                    FontSize="16"
                    Click="DeletePromotionButton_Click">
                        <Button.Resources>
                            <Style TargetType="Border">
                                <Setter Property="CornerRadius" Value="8"/>
                            </Style>
                        </Button.Resources>
                    </Button>
                </StackPanel>
            </Grid>

            <Grid Grid.Row="1">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <!-- PromÃ³ciÃ³k listÃ¡ja - Ãºj stÃ­lus -->
                <ListView x:Name="promotionsListView" 
                  Grid.Column="0" 
                  Margin="40,0,40,40" 
                  BorderThickness="1"
                  BorderBrush="#E2E8F0"
                  Background="White"
                  FontSize="16">
                    <ListView.View>
                        <GridView>
                            <GridViewColumn Header="NÃ©v" DisplayMemberBinding="{Binding PromotionName}" Width="Auto"/>
                            <GridViewColumn Header="KezdÅ‘ dÃ¡tum" DisplayMemberBinding="{Binding StartDate, StringFormat='{}{0:yyyy.MM.dd}'}" Width="Auto"/>
                            <GridViewColumn Header="BefejezÅ‘ dÃ¡tum" DisplayMemberBinding="{Binding EndDate, StringFormat='{}{0:yyyy.MM.dd}'}" Width="Auto"/>
                            <GridViewColumn Header="KedvezmÃ©ny" DisplayMemberBinding="{Binding DiscountPercentage, StringFormat='{}{0}%'}" Width="Auto"/>
                            <GridViewColumn Header="StÃ¡tusz" DisplayMemberBinding="{Binding Status}" Width="Auto"/>
                            <GridViewColumn Header="Szoba" DisplayMemberBinding="{Binding RoomId}" Width="Auto"/>
                            <GridViewColumn Header="LeÃ­rÃ¡s" DisplayMemberBinding="{Binding Description}" Width="Auto"/>
                        </GridView>
                    </ListView.View>
                    <ListView.ItemContainerStyle>
                        <Style TargetType="ListViewItem">
                            <Setter Property="HorizontalContentAlignment" Value="Stretch" />
                            <Setter Property="Padding" Value="10,8" />
                            <Setter Property="Height" Value="45" />
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding Status}" Value="AktÃ­v">
                                    <Setter Property="Background" Value="#DCFCE7" />
                                </DataTrigger>
                                <DataTrigger Binding="{Binding Status}" Value="InaktÃ­v">
                                    <Setter Property="Background" Value="#FEE2E2" />
                                </DataTrigger>
                                <DataTrigger Binding="{Binding Status}" Value="KÃ¶zelgÅ‘">
                                    <Setter Property="Background" Value="#FEF3C7" />
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </ListView.ItemContainerStyle>
                </ListView>

                <!-- PromÃ³ciÃ³ szerkesztÅ‘ panel - Ãºj stÃ­lus -->
                <Border x:Name="promotionEditPanel" 
                Grid.Column="1" 
                Padding="40" 
                Margin="0,0,40,40" 
                Background="White" 
                CornerRadius="16" 
                BorderThickness="1"
                BorderBrush="#E2E8F0"
                Effect="{StaticResource BoxShadow}"
                Width="450" 
                Visibility="Collapsed">
                    <ScrollViewer VerticalScrollBarVisibility="Auto">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>

                            <!-- FejlÃ©c -->
                            <TextBlock Grid.Row="0" 
                               Text="PromÃ³ciÃ³ szerkesztÃ©se" 
                               FontSize="28" 
                               FontWeight="SemiBold" 
                               Margin="0,0,0,30"/>

                            <!-- Å°rlap mezÅ‘k - kÃ¡rtyaszerÅ±en -->
                            <StackPanel Grid.Row="1">
                                <Border Margin="0,0,0,20" BorderThickness="1" BorderBrush="#E2E8F0" CornerRadius="12" Padding="20">
                                    <StackPanel>
                                        <TextBlock Text="PromÃ³ciÃ³ neve" FontWeight="SemiBold" FontSize="18" Margin="0,0,0,15"/>
                                        <TextBox x:Name="PromotionNameTextBox" Padding="15,12" FontSize="16"/>
                                    </StackPanel>
                                </Border>

                                <Border Margin="0,0,0,20" BorderThickness="1" BorderBrush="#E2E8F0" CornerRadius="12" Padding="20">
                                    <StackPanel>
                                        <TextBlock Text="LeÃ­rÃ¡s" FontWeight="SemiBold" FontSize="18" Margin="0,0,0,15"/>
                                        <TextBox x:Name="PromotionDescriptionTextBox" 
                                         TextWrapping="Wrap" 
                                         AcceptsReturn="True" 
                                         Height="100" 
                                         Padding="15,12" 
                                         FontSize="16"/>
                                    </StackPanel>
                                </Border>

                                <Border Margin="0,0,0,20" BorderThickness="1" BorderBrush="#E2E8F0" CornerRadius="12" Padding="20">
                                    <StackPanel>
                                        <TextBlock Text="KezdÅ‘ dÃ¡tum" FontWeight="SemiBold" FontSize="18" Margin="0,0,0,15"/>
                                        <DatePicker x:Name="StartDatePicker" Padding="15,12" FontSize="16"/>
                                    </StackPanel>
                                </Border>

                                <Border Margin="0,0,0,20" BorderThickness="1" BorderBrush="#E2E8F0" CornerRadius="12" Padding="20">
                                    <StackPanel>
                                        <TextBlock Text="BefejezÅ‘ dÃ¡tum" FontWeight="SemiBold" FontSize="18" Margin="0,0,0,15"/>
                                        <DatePicker x:Name="EndDatePicker" Padding="15,12" FontSize="16"/>
                                    </StackPanel>
                                </Border>

                                <Border Margin="0,0,0,20" BorderThickness="1" BorderBrush="#E2E8F0" CornerRadius="12" Padding="20">
                                    <StackPanel>
                                        <TextBlock Text="KedvezmÃ©ny szÃ¡zalÃ©k" FontWeight="SemiBold" FontSize="18" Margin="0,0,0,15"/>
                                        <TextBox x:Name="DiscountPercentageTextBox" Padding="15,12" FontSize="16"/>
                                    </StackPanel>
                                </Border>

                                <Border Margin="0,0,0,20" BorderThickness="1" BorderBrush="#E2E8F0" CornerRadius="12" Padding="20">
                                    <StackPanel>
                                        <TextBlock Text="StÃ¡tusz" FontWeight="SemiBold" FontSize="18" Margin="0,0,0,15"/>
                                        <ComboBox x:Name="PromotionStatusComboBox" Padding="15,12" FontSize="16">
                                            <ComboBoxItem Content="AktÃ­v"/>
                                            <ComboBoxItem Content="InaktÃ­v"/>
                                            <ComboBoxItem Content="KÃ¶zelgÅ‘"/>
                                        </ComboBox>
                                    </StackPanel>
                                </Border>

                                <Border Margin="0,0,0,20" BorderThickness="1" BorderBrush="#E2E8F0" CornerRadius="12" Padding="20">
                                    <StackPanel>
                                        <TextBlock Text="SzabÃ¡lyok Ã©s feltÃ©telek" FontWeight="SemiBold" FontSize="18" Margin="0,0,0,15"/>
                                        <TextBox x:Name="TermsConditionsTextBox" 
                                         TextWrapping="Wrap" 
                                         AcceptsReturn="True" 
                                         Height="100" 
                                         Padding="15,12" 
                                         FontSize="16"/>
                                    </StackPanel>
                                </Border>

                                <Border Margin="0,0,0,20" BorderThickness="1" BorderBrush="#E2E8F0" CornerRadius="12" Padding="20">
                                    <StackPanel>
                                        <TextBlock Text="Szoba azonosÃ­tÃ³" FontWeight="SemiBold" FontSize="18" Margin="0,0,0,15"/>
                                        <TextBox x:Name="RoomIdTextBox" Padding="15,12" FontSize="16"/>
                                    </StackPanel>
                                </Border>

                                <!-- MÅ±veleti gombok -->
                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,20,0,0">
                                    <Button Content="MÃ©gse" 
                                    Padding="25,15" 
                                    Margin="0,0,10,0" 
                                    Background="#6B7280" 
                                    Foreground="White" 
                                    BorderThickness="0"
                                    FontSize="16"
                                    Click="CancelPromotionEditButton_Click">
                                        <Button.Resources>
                                            <Style TargetType="Border">
                                                <Setter Property="CornerRadius" Value="8"/>
                                            </Style>
                                        </Button.Resources>
                                    </Button>
                                    <Button Content="MentÃ©s" 
                                    Padding="25,15" 
                                    Background="#16A34A" 
                                    Foreground="White" 
                                    BorderThickness="0"
                                    FontSize="16"
                                    Click="SavePromotionButton_Click">
                                        <Button.Resources>
                                            <Style TargetType="Border">
                                                <Setter Property="CornerRadius" Value="8"/>
                                            </Style>
                                        </Button.Resources>
                                    </Button>
                                </StackPanel>
                            </StackPanel>
                        </Grid>
                    </ScrollViewer>
                </Border>
            </Grid>
        </Grid>

        <!-- VendÃ©gek kontÃ©ner -->
        <Grid x:Name="guestsContainer" Grid.Row="1" Visibility="Collapsed">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- FelsÅ‘ fejlÃ©c Ã©s menÃ¼ -->
            <Grid Grid.Row="0" Background="#1E293B" Margin="0,0,0,25">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" MinWidth="100"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                
                <!-- Vissza gomb -->
                <Button Grid.Column="0" 
                         x:Name="GuestsBackButton"
                         Content="â¬… Vissza" 
                         HorizontalAlignment="Left" 
                         Margin="30,20" 
                         Padding="25,15" 
                         Background="#3B82F6" 
                         Foreground="White" 
                         BorderThickness="0"
                         FontSize="18"
                         Click="GuestsBackButton_Click">
                    <Button.Resources>
                        <Style TargetType="Border">
                            <Setter Property="CornerRadius" Value="8"/>
                        </Style>
                    </Button.Resources>
                </Button>

                <!-- CÃ­m -->
                <TextBlock Grid.Column="1" 
                   Text="VendÃ©gek KezelÃ©se" 
                   VerticalAlignment="Center" 
                   HorizontalAlignment="Center" 
                   FontSize="32" 
                   FontWeight="SemiBold" 
                   Foreground="White"/>

                <!-- MÅ±veleti gombok -->
                <StackPanel Grid.Column="2" Orientation="Horizontal" Margin="30,20">
                    <Button x:Name="RefreshGuestsButton" 
                    Content="ðŸ”„ FrissÃ­tÃ©s" 
                    Margin="5,0" 
                    Padding="15,12"
                    Background="#6366F1" 
                    Foreground="White" 
                    BorderThickness="0"
                    FontSize="16"
                    Click="RefreshGuestsButton_Click">
                        <Button.Resources>
                            <Style TargetType="Border">
                                <Setter Property="CornerRadius" Value="8"/>
                            </Style>
                        </Button.Resources>
                    </Button>

                    <Button x:Name="AddGuestButton"
                    Content="âž• Ãšj vendÃ©g" 
                    Margin="5,0" 
                    Padding="15,12" 
                    Background="#16A34A" 
                    Foreground="White" 
                    BorderThickness="0"
                    FontSize="16"
                    Click="AddGuestButton_Click">
                        <Button.Resources>
                            <Style TargetType="Border">
                                <Setter Property="CornerRadius" Value="8"/>
                            </Style>
                        </Button.Resources>
                    </Button>

                    <Button x:Name="EditGuestButton"
                    Content="âœï¸ SzerkesztÃ©s" 
                    Margin="5,0" 
                    Padding="15,12" 
                    Background="#2563EB" 
                    Foreground="White" 
                    BorderThickness="0"
                    FontSize="16"
                    Click="EditGuestButton_Click">
                        <Button.Resources>
                            <Style TargetType="Border">
                                <Setter Property="CornerRadius" Value="8"/>
                            </Style>
                        </Button.Resources>
                    </Button>

                    <Button x:Name="DeleteGuestButton"
                    Content="ðŸ—‘ï¸ TÃ¶rlÃ©s" 
                    Margin="5,0" 
                    Padding="15,12" 
                    Background="#DC2626" 
                    Foreground="White" 
                    BorderThickness="0"
                    FontSize="16"
                    Click="DeleteGuestButton_Click">
                        <Button.Resources>
                            <Style TargetType="Border">
                                <Setter Property="CornerRadius" Value="8"/>
                            </Style>
                        </Button.Resources>
                    </Button>
                </StackPanel>
            </Grid>

            <Grid Grid.Row="1">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <!-- VendÃ©gek listÃ¡ja - Ãºj stÃ­lus -->
                <ListView x:Name="guestsListView" 
                  Grid.Column="0" 
                  Margin="40,0,40,40" 
                  BorderThickness="1"
                  BorderBrush="#E2E8F0"
                  Background="White"
                  FontSize="16">
                    <ListView.View>
                        <GridView>
                            <GridViewColumn Header="VezetÃ©knÃ©v" DisplayMemberBinding="{Binding LastName}" Width="Auto"/>
                            <GridViewColumn Header="KeresztnÃ©v" DisplayMemberBinding="{Binding FirstName}" Width="Auto"/>
                            <GridViewColumn Header="Email" DisplayMemberBinding="{Binding Email}" Width="Auto"/>
                            <GridViewColumn Header="TelefonszÃ¡m" DisplayMemberBinding="{Binding PhoneNumber}" Width="Auto"/>
                            <GridViewColumn Header="CÃ­m" DisplayMemberBinding="{Binding Address}" Width="Auto"/>
                            <GridViewColumn Header="VÃ¡ros" DisplayMemberBinding="{Binding City}" Width="Auto"/>
                            <GridViewColumn Header="OrszÃ¡g" DisplayMemberBinding="{Binding Country}" Width="Auto"/>
                            <GridViewColumn Header="Nem" DisplayMemberBinding="{Binding Gender}" Width="Auto"/>
                        </GridView>
                    </ListView.View>
                    <ListView.ItemContainerStyle>
                        <Style TargetType="ListViewItem">
                            <Setter Property="HorizontalContentAlignment" Value="Stretch" />
                            <Setter Property="Padding" Value="10,8" />
                            <Setter Property="Height" Value="45" />
                        </Style>
                    </ListView.ItemContainerStyle>
                </ListView>

                <!-- VendÃ©g szerkesztÅ‘ panel - Ãºj stÃ­lus -->
                <Border x:Name="guestEditPanel" 
                Grid.Column="1" 
                Padding="40" 
                Margin="0,0,40,40" 
                Background="White" 
                CornerRadius="16" 
                BorderThickness="1"
                BorderBrush="#E2E8F0"
                Effect="{StaticResource BoxShadow}"
                Width="450" 
                Visibility="Collapsed">
                    <ScrollViewer VerticalScrollBarVisibility="Auto">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>

                            <!-- FejlÃ©c -->
                            <TextBlock Grid.Row="0" 
                               Text="VendÃ©g szerkesztÃ©se" 
                               FontSize="28" 
                               FontWeight="SemiBold" 
                               Margin="0,0,0,30"/>

                            <!-- Å°rlap mezÅ‘k - kÃ¡rtyaszerÅ±en -->
                            <StackPanel Grid.Row="1">
                                <Border Margin="0,0,0,20" BorderThickness="1" BorderBrush="#E2E8F0" CornerRadius="12" Padding="20">
                                    <StackPanel>
                                        <TextBlock Text="VezetÃ©knÃ©v" FontWeight="SemiBold" FontSize="18" Margin="0,0,0,15"/>
                                        <TextBox x:Name="GuestLastNameTextBox" Padding="15,12" FontSize="16"/>
                                    </StackPanel>
                                </Border>

                                <Border Margin="0,0,0,20" BorderThickness="1" BorderBrush="#E2E8F0" CornerRadius="12" Padding="20">
                                    <StackPanel>
                                        <TextBlock Text="KeresztnÃ©v" FontWeight="SemiBold" FontSize="18" Margin="0,0,0,15"/>
                                        <TextBox x:Name="GuestFirstNameTextBox" Padding="15,12" FontSize="16"/>
                                    </StackPanel>
                                </Border>

                                <Border Margin="0,0,0,20" BorderThickness="1" BorderBrush="#E2E8F0" CornerRadius="12" Padding="20">
                                    <StackPanel>
                                        <TextBlock Text="Email" FontWeight="SemiBold" FontSize="18" Margin="0,0,0,15"/>
                                        <TextBox x:Name="GuestEmailTextBox" Padding="15,12" FontSize="16" LostFocus="GuestEmailTextBox_LostFocus"/>
                                    </StackPanel>
                                </Border>

                                <Border Margin="0,0,0,20" BorderThickness="1" BorderBrush="#E2E8F0" CornerRadius="12" Padding="20">
                                    <StackPanel>
                                        <TextBlock Text="TelefonszÃ¡m" FontWeight="SemiBold" FontSize="18" Margin="0,0,0,15"/>
                                        <TextBox x:Name="GuestPhoneTextBox" Padding="15,12" FontSize="16"/>
                                    </StackPanel>
                                </Border>

                                <Border Margin="0,0,0,20" BorderThickness="1" BorderBrush="#E2E8F0" CornerRadius="12" Padding="20">
                                    <StackPanel>
                                        <TextBlock Text="CÃ­m" FontWeight="SemiBold" FontSize="18" Margin="0,0,0,15"/>
                                        <TextBox x:Name="GuestAddressTextBox" Padding="15,12" FontSize="16"/>
                                    </StackPanel>
                                </Border>

                                <Border Margin="0,0,0,20" BorderThickness="1" BorderBrush="#E2E8F0" CornerRadius="12" Padding="20">
                                    <StackPanel>
                                        <TextBlock Text="VÃ¡ros" FontWeight="SemiBold" FontSize="18" Margin="0,0,0,15"/>
                                        <TextBox x:Name="GuestCityTextBox" Padding="15,12" FontSize="16"/>
                                    </StackPanel>
                                </Border>

                                <Border Margin="0,0,0,20" BorderThickness="1" BorderBrush="#E2E8F0" CornerRadius="12" Padding="20">
                                    <StackPanel>
                                        <TextBlock Text="OrszÃ¡g" FontWeight="SemiBold" FontSize="18" Margin="0,0,0,15"/>
                                        <TextBox x:Name="GuestCountryTextBox" Padding="15,12" FontSize="16"/>
                                    </StackPanel>
                                </Border>

                                <Border Margin="0,0,0,20" BorderThickness="1" BorderBrush="#E2E8F0" CornerRadius="12" Padding="20">
                                    <StackPanel>
                                        <TextBlock Text="SzÃ¼letÃ©si dÃ¡tum" FontWeight="SemiBold" FontSize="18" Margin="0,0,0,15"/>
                                        <DatePicker x:Name="GuestDateOfBirthPicker" Padding="15,12" FontSize="16"/>
                                    </StackPanel>
                                </Border>

                                <Border Margin="0,0,0,20" BorderThickness="1" BorderBrush="#E2E8F0" CornerRadius="12" Padding="20">
                                    <StackPanel>
                                        <TextBlock Text="Nem" FontWeight="SemiBold" FontSize="18" Margin="0,0,0,15"/>
                                        <ComboBox x:Name="GuestGenderComboBox" Padding="15,12" FontSize="16">
                                            <ComboBoxItem Content="FÃ©rfi"/>
                                            <ComboBoxItem Content="NÅ‘"/>
                                            <ComboBoxItem Content="EgyÃ©b"/>
                                        </ComboBox>
                                    </StackPanel>
                                </Border>

                                <Border Margin="0,0,0,20" BorderThickness="1" BorderBrush="#E2E8F0" CornerRadius="12" Padding="20">
                                    <StackPanel>
                                        <TextBlock Text="FelhasznÃ¡lÃ³i azonosÃ­tÃ³" FontWeight="SemiBold" FontSize="18" Margin="0,0,0,15"/>
                                        <TextBox x:Name="GuestUserIdTextBox" Padding="15,12" FontSize="16" IsReadOnly="True" Background="LightGray"/>
                                    </StackPanel>
                                </Border>

                                <!-- MÅ±veleti gombok -->
                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,20,0,0">
                                    <Button Content="MÃ©gse" 
                                    Padding="25,15" 
                                    Margin="0,0,10,0" 
                                    Background="#6B7280" 
                                    Foreground="White" 
                                    BorderThickness="0"
                                    FontSize="16"
                                    Click="CancelGuestEditButton_Click">
                                        <Button.Resources>
                                            <Style TargetType="Border">
                                                <Setter Property="CornerRadius" Value="8"/>
                                            </Style>
                                        </Button.Resources>
                                    </Button>
                                    <Button Content="MentÃ©s" 
                                    Padding="25,15" 
                                    Background="#16A34A" 
                                    Foreground="White" 
                                    BorderThickness="0"
                                    FontSize="16"
                                    Click="SaveGuestButton_Click">
                                        <Button.Resources>
                                            <Style TargetType="Border">
                                                <Setter Property="CornerRadius" Value="8"/>
                                            </Style>
                                        </Button.Resources>
                                    </Button>
                                </StackPanel>
                            </StackPanel>
                        </Grid>
                    </ScrollViewer>
                </Border>
            </Grid>
        </Grid>

        <!-- FoglalÃ¡sok kontÃ©ner -->
        <Grid x:Name="bookingsContainer" Grid.Row="1" Visibility="Collapsed">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- FelsÅ‘ fejlÃ©c Ã©s menÃ¼ -->
            <Grid Grid.Row="0" Background="#1E293B" Margin="0,0,0,25">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" MinWidth="100"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <!-- Vissza gomb -->
                <Button Grid.Column="0" 
                    x:Name="BookingsBackButton"
                    Content="â¬… Vissza" 
                    HorizontalAlignment="Left" 
                    Margin="30,20" 
                    Padding="25,15" 
                    Background="#3B82F6" 
                    Foreground="White" 
                    BorderThickness="0"
                    FontSize="18"
                    Click="BookingsBackButton_Click">
                    <Button.Resources>
                        <Style TargetType="Border">
                            <Setter Property="CornerRadius" Value="8"/>
                        </Style>
                    </Button.Resources>
                </Button>

                <!-- CÃ­m -->
                <TextBlock Grid.Column="1" 
                   Text="FoglalÃ¡sok KezelÃ©se" 
                   VerticalAlignment="Center" 
                   HorizontalAlignment="Center" 
                   FontSize="32" 
                   FontWeight="SemiBold" 
                   Foreground="White"/>

                <!-- MÅ±veleti gombok -->
                <StackPanel Grid.Column="2" Orientation="Horizontal" Margin="30,20">
                    <Button x:Name="RefreshBookingsButton" 
                    Content="ðŸ”„ FrissÃ­tÃ©s" 
                    Margin="5,0" 
                    Padding="15,12"
                    Background="#6366F1" 
                    Foreground="White" 
                    BorderThickness="0"
                    FontSize="16"
                    Click="RefreshBookingsButton_Click">
                        <Button.Resources>
                            <Style TargetType="Border">
                                <Setter Property="CornerRadius" Value="8"/>
                            </Style>
                        </Button.Resources>
                    </Button>

                    

                    <Button x:Name="DeleteBookingButton"
                    Content="ðŸ—‘ï¸ TÃ¶rlÃ©s" 
                    Margin="5,0" 
                    Padding="15,12" 
                    Background="#DC2626" 
                    Foreground="White" 
                    BorderThickness="0"
                    FontSize="16"
                    Click="DeleteBookingButton_Click">
                        <Button.Resources>
                            <Style TargetType="Border">
                                <Setter Property="CornerRadius" Value="8"/>
                            </Style>
                        </Button.Resources>
                    </Button>
                </StackPanel>
            </Grid>

            <Grid Grid.Row="1">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <!-- FoglalÃ¡sok listÃ¡ja - Ãºj stÃ­lus -->
                <ListView x:Name="bookingsListView" 
                  Grid.Column="0" 
                  Margin="40,0,40,40" 
                  BorderThickness="1"
                  BorderBrush="#E2E8F0"
                  Background="White"
                  FontSize="16">
                    <ListView.View>
                        <GridView>
                            <GridViewColumn Header="VendÃ©g" DisplayMemberBinding="{Binding GuestName}" Width="Auto"/>
                            <GridViewColumn Header="Szoba" DisplayMemberBinding="{Binding RoomNumber}" Width="Auto"/>
                            <GridViewColumn Header="Ã‰rkezÃ©s" DisplayMemberBinding="{Binding CheckInDate, StringFormat='{}{0:yyyy.MM.dd}'}" Width="Auto"/>
                            <GridViewColumn Header="TÃ¡vozÃ¡s" DisplayMemberBinding="{Binding CheckOutDate, StringFormat='{}{0:yyyy.MM.dd}'}" Width="Auto"/>
                            <GridViewColumn Header="VendÃ©gek" DisplayMemberBinding="{Binding NumberOfGuests}" Width="Auto"/>
                            <GridViewColumn Header="Ã–sszÃ¡r" DisplayMemberBinding="{Binding TotalPrice, StringFormat='{}{0:N0} Ft'}" Width="Auto"/>
                            <GridViewColumn Header="FizetÃ©s" DisplayMemberBinding="{Binding PaymentStatus}" Width="Auto"/>
                            <GridViewColumn Header="StÃ¡tusz" Width="Auto">
                                <GridViewColumn.CellTemplate>
                                    <DataTemplate>
                                        <Button Content="{Binding Status}" 
                    Tag="{Binding BookingId}" 
                    Click="StatusButton_Click" 
                    Background="Transparent" 
                    BorderThickness="0" 
                    Padding="0" 
                    Cursor="Hand">
                                            <Button.Style>
                                                <Style TargetType="Button">
                                                    <Setter Property="Foreground" Value="Black"/>
                                                    <Style.Triggers>
                                                        <Trigger Property="IsMouseOver" Value="True">
                                                            <Setter Property="TextBlock.TextDecorations" Value="Underline"/>
                                                            <Setter Property="Foreground" Value="#4F46E5"/>
                                                        </Trigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </Button.Style>
                                        </Button>
                                    </DataTemplate>
                                </GridViewColumn.CellTemplate>
                            </GridViewColumn>
                            <GridViewColumn Header="MÅ±veletek" Width="Auto">
                                <GridViewColumn.CellTemplate>
                                    <DataTemplate>
                                        <StackPanel Orientation="Horizontal">
                                            <Button Content="FizetÃ©s" Margin="0,0,3,0" Padding="8,4" Tag="{Binding BookingId}" Click="PaymentButton_Click" Background="#16A34A" Foreground="White" BorderThickness="0">
                                                <Button.Visibility>
                                                    <Binding Path="PaymentStatus" Converter="{StaticResource PaymentStatusToVisibilityConverter}"/>
                                                </Button.Visibility>
                                                <Button.Resources>
                                                    <Style TargetType="Border">
                                                        <Setter Property="CornerRadius" Value="4"/>
                                                    </Style>
                                                </Button.Resources>
                                            </Button>
                                            <Button Content="Feedback" Padding="8,4" Tag="{Binding BookingId}" Click="ViewFeedback_Click" Background="#6366F1" Foreground="White" BorderThickness="0" Visibility="{Binding HasFeedback, Converter={StaticResource BooleanToVisibilityConverter}}">
                                                <Button.Resources>
                                                    <Style TargetType="Border">
                                                        <Setter Property="CornerRadius" Value="4"/>
                                                    </Style>
                                                </Button.Resources>
                                            </Button>
                                        </StackPanel>
                                    </DataTemplate>
                                </GridViewColumn.CellTemplate>
                            </GridViewColumn>
                        </GridView>
                    </ListView.View>
                    <ListView.ItemContainerStyle>
                        <Style TargetType="ListViewItem">
                            <Setter Property="HorizontalContentAlignment" Value="Stretch" />
                            <Setter Property="Padding" Value="10,8" />
                            <Setter Property="Height" Value="45" />
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding Status}" Value="FÃ¼ggÅ‘ben">
                                    <Setter Property="Background" Value="#FEF3C7" />
                                </DataTrigger>
                                <DataTrigger Binding="{Binding Status}" Value="JÃ³vÃ¡hagyva">
                                    <Setter Property="Background" Value="#DCFCE7" />
                                </DataTrigger>
                                <DataTrigger Binding="{Binding Status}" Value="Checked In">
                                    <Setter Property="Background" Value="#DBEAFE" />
                                </DataTrigger>
                                <DataTrigger Binding="{Binding Status}" Value="Finished">
                                    <Setter Property="Background" Value="#E0E7FF" />
                                </DataTrigger>
                                <DataTrigger Binding="{Binding Status}" Value="Cancelled">
                                    <Setter Property="Background" Value="#FEE2E2" />
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </ListView.ItemContainerStyle>
                </ListView>

                <!-- FoglalÃ¡s szerkesztÅ‘ panel - Ãºj stÃ­lus -->
                <Border x:Name="bookingEditPanel" 
                Grid.Column="1" 
                Padding="40" 
                Margin="0,0,40,40" 
                Background="White" 
                CornerRadius="16" 
                BorderThickness="1"
                BorderBrush="#E2E8F0"
                Effect="{StaticResource BoxShadow}"
                Width="450" 
                Visibility="Collapsed">
                    <ScrollViewer VerticalScrollBarVisibility="Auto">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>

                            <!-- FejlÃ©c -->
                            <TextBlock Grid.Row="0" 
                               Text="FoglalÃ¡s szerkesztÃ©se" 
                               FontSize="28" 
                               FontWeight="SemiBold" 
                               Margin="0,0,0,30"/>

                            <!-- Å°rlap mezÅ‘k - kÃ¡rtyaszerÅ±en -->
                            <StackPanel Grid.Row="1">
                                <Border Margin="0,0,0,20" BorderThickness="1" BorderBrush="#E2E8F0" CornerRadius="12" Padding="20">
                                    <StackPanel>
                                        <TextBlock Text="Szoba" FontWeight="SemiBold" FontSize="18" Margin="0,0,0,15"/>
                                        <ComboBox x:Name="RoomComboBox" 
                                          Padding="15,12" 
                                          FontSize="16"
                                          DisplayMemberPath="RoomNumber"
                                          SelectedValuePath="RoomId"
                                          SelectionChanged="RoomComboBox_SelectionChanged"/>
                                    </StackPanel>
                                </Border>

                                <Border Margin="0,0,0,20" BorderThickness="1" BorderBrush="#E2E8F0" CornerRadius="12" Padding="20">
                                    <StackPanel>
                                        <TextBlock Text="VendÃ©g" FontWeight="SemiBold" FontSize="18" Margin="0,0,0,15"/>
                                        <ComboBox x:Name="GuestComboBox" 
                                          Padding="15,12" 
                                          FontSize="16"
                                          DisplayMemberPath="FullName"
                                          SelectedValuePath="GuestId"/>
                                    </StackPanel>
                                </Border>

                                <Border Margin="0,0,0,20" BorderThickness="1" BorderBrush="#E2E8F0" CornerRadius="12" Padding="20">
                                    <StackPanel>
                                        <TextBlock Text="Ã‰rkezÃ©s dÃ¡tuma" FontWeight="SemiBold" FontSize="18" Margin="0,0,0,15"/>
                                        <DatePicker x:Name="CheckInDatePicker" 
                                            Padding="15,12" 
                                            FontSize="16"
                                            SelectedDateChanged="DatePicker_SelectedDateChanged"/>
                                    </StackPanel>
                                </Border>

                                <Border Margin="0,0,0,20" BorderThickness="1" BorderBrush="#E2E8F0" CornerRadius="12" Padding="20">
                                    <StackPanel>
                                        <TextBlock Text="TÃ¡vozÃ¡s dÃ¡tuma" FontWeight="SemiBold" FontSize="18" Margin="0,0,0,15"/>
                                        <DatePicker x:Name="CheckOutDatePicker" 
                                            Padding="15,12" 
                                            FontSize="16"
                                            SelectedDateChanged="DatePicker_SelectedDateChanged"/>
                                    </StackPanel>
                                </Border>

                                <Border Margin="0,0,0,20" BorderThickness="1" BorderBrush="#E2E8F0" CornerRadius="12" Padding="20">
                                    <StackPanel>
                                        <TextBlock Text="VendÃ©gek szÃ¡ma" FontWeight="SemiBold" FontSize="18" Margin="0,0,0,15"/>
                                        <TextBox x:Name="NumberOfGuestsTextBox" 
                                         Padding="15,12" 
                                         FontSize="16"
                                         TextChanged="NumberOfGuestsTextBox_TextChanged"
                                         PreviewTextInput="NumberOfGuestsTextBox_PreviewTextInput"/>
                                    </StackPanel>
                                </Border>

                                <Border Margin="0,0,0,20" BorderThickness="1" BorderBrush="#E2E8F0" CornerRadius="12" Padding="20">
                                    <StackPanel>
                                        <TextBlock Text="Ã–sszÃ¡r" FontWeight="SemiBold" FontSize="18" Margin="0,0,0,15"/>
                                        <TextBox x:Name="TotalPriceTextBox" 
                                         Padding="15,12" 
                                         FontSize="16"
                                         IsReadOnly="True"
                                         Background="#F8FAFC"/>
                                    </StackPanel>
                                </Border>

                                <!-- MÅ±veleti gombok -->
                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,20,0,0">
                                    <Button Content="MÃ©gse" 
                                    Padding="25,15" 
                                    Margin="0,0,10,0" 
                                    Background="#6B7280" 
                                    Foreground="White" 
                                    BorderThickness="0"
                                    FontSize="16">
                                        <Button.Resources>
                                            <Style TargetType="Border">
                                                <Setter Property="CornerRadius" Value="8"/>
                                            </Style>
                                        </Button.Resources>
                                    </Button>
                                    <Button Content="MentÃ©s" 
                                    Padding="25,15" 
                                    Background="#16A34A" 
                                    Foreground="White" 
                                    BorderThickness="0"
                                    FontSize="16"
                                    Click="SaveBookingButton_Click">
                                        <Button.Resources>
                                            <Style TargetType="Border">
                                                <Setter Property="CornerRadius" Value="8"/>
                                            </Style>
                                        </Button.Resources>
                                    </Button>
                                </StackPanel>
                            </StackPanel>
                        </Grid>
                    </ScrollViewer>
                </Border>
            </Grid>
        </Grid>

        <!-- FizetÃ©si panel - Ãºj stÃ­lus -->
        <Grid x:Name="paymentPanel" Grid.Row="1" Visibility="Collapsed">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- FejlÃ©c -->
            <Grid Grid.Row="0" Background="#1E293B" Margin="0,0,0,25">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" MinWidth="100"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>


                <!-- Vissza gomb -->
                <Button Grid.Column="0" 
                        x:Name="PaymentBackButton"
                        Content="â¬… Vissza" 
                        HorizontalAlignment="Left" 
                        Margin="30,20" 
                        Padding="25,15" 
                        Background="#3B82F6" 
                        Foreground="White" 
                        BorderThickness="0"
                        FontSize="18"
                        Click="PaymentBackButton_Click">
                    <Button.Resources>
                        <Style TargetType="Border">
                            <Setter Property="CornerRadius" Value="8"/>
                        </Style>
                    </Button.Resources>
                </Button>


                <!-- CÃ­m -->
                <TextBlock Grid.Column="1" 
                   Text="FizetÃ©s RÃ¶gzÃ­tÃ©se" 
                   VerticalAlignment="Center" 
                   HorizontalAlignment="Center" 
                   FontSize="32" 
                   FontWeight="SemiBold" 
                   Foreground="White"/>
            </Grid>

            <!-- FizetÃ©si opciÃ³k -->
            <Border Grid.Row="1" 
            Width="600" 
            Padding="40" 
            Margin="0,40,0,40" 
            Background="White" 
            CornerRadius="16" 
            BorderThickness="1"
            BorderBrush="#E2E8F0"
            Effect="{StaticResource BoxShadow}"
            HorizontalAlignment="Center">
                <StackPanel>
                    <TextBlock Text="VÃ¡lasszon fizetÃ©si mÃ³dot" 
                       FontSize="24" 
                       FontWeight="SemiBold" 
                       Margin="0,0,0,30"
                       HorizontalAlignment="Center"/>

                    <StackPanel Orientation="Vertical" Margin="0,0,0,40">
                        <RadioButton x:Name="CashRadioButton" 
                             Content="KÃ©szpÃ©nz" 
                             FontSize="18" 
                             Margin="0,0,0,15" 
                             IsChecked="True"
                             GroupName="PaymentMethod"/>

                        <RadioButton x:Name="CardRadioButton" 
                             Content="BankkÃ¡rtya" 
                             FontSize="18" 
                             Margin="0,0,0,15"
                             GroupName="PaymentMethod"/>

                        <RadioButton x:Name="TransferRadioButton" 
                             Content="ÃtutalÃ¡s" 
                             FontSize="18" 
                             Margin="0,0,0,15"
                             GroupName="PaymentMethod"/>

                        <RadioButton x:Name="SzepCardRadioButton" 
                             Content="SZÃ‰P kÃ¡rtya" 
                             FontSize="18"
                             GroupName="PaymentMethod"/>
                    </StackPanel>

                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                        <Button Content="MÃ©gse" 
                        Padding="30,15" 
                        Margin="0,0,20,0" 
                        Background="#6B7280" 
                        Foreground="White" 
                        BorderThickness="0"
                        FontSize="18"
                        Click="CancelPaymentButton_Click">
                            <Button.Resources>
                                <Style TargetType="Border">
                                    <Setter Property="CornerRadius" Value="8"/>
                                </Style>
                            </Button.Resources>
                        </Button>

                        <Button Content="FizetÃ©s rÃ¶gzÃ­tÃ©se" 
                        Padding="30,15" 
                        Background="#16A34A" 
                        Foreground="White" 
                        BorderThickness="0"
                        FontSize="18"
                        Click="ConfirmPaymentButton_Click">
                            <Button.Resources>
                                <Style TargetType="Border">
                                    <Setter Property="CornerRadius" Value="8"/>
                                </Style>
                            </Button.Resources>
                        </Button>
                    </StackPanel>
                </StackPanel>
            </Border>
        </Grid>


        <!-- Szoba takarÃ­tÃ¡s kezelÃ©s kontÃ©ner -->
        <Grid x:Name="maintenanceContainer" Grid.Row="1" Visibility="Collapsed">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- FelsÅ‘ fejlÃ©c Ã©s menÃ¼ -->
            <Grid Grid.Row="0" Background="#1E293B" Margin="0,0,0,25">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" MinWidth="100"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <!-- Vissza gomb -->
                <Button Grid.Column="0" 
                x:Name="MaintenanceBackButton"
                Content="â¬… Vissza" 
                HorizontalAlignment="Left" 
                Margin="30,20" 
                Padding="25,15" 
                Background="#3B82F6" 
                Foreground="White" 
                BorderThickness="0"
                FontSize="18"
                Click="MaintenanceBackButton_Click">
                    <Button.Resources>
                        <Style TargetType="Border">
                            <Setter Property="CornerRadius" Value="8"/>
                        </Style>
                    </Button.Resources>
                </Button>

                <!-- CÃ­m -->
                <TextBlock Grid.Column="1" 
                   Text="KarbantartÃ¡si KÃ©relmek KezelÃ©se" 
                   VerticalAlignment="Center" 
                   HorizontalAlignment="Center" 
                   FontSize="32" 
                   FontWeight="SemiBold" 
                   Foreground="White"/>

                <!-- MÅ±veleti gombok -->
                <StackPanel Grid.Column="2" Orientation="Horizontal" Margin="30,20">
                    <Button x:Name="RefreshMaintenanceButton" 
                    Content="ðŸ”„ FrissÃ­tÃ©s" 
                    Margin="5,0" 
                    Padding="15,12"
                    Background="#6366F1" 
                    Foreground="White" 
                    BorderThickness="0"
                    FontSize="16"
                    Click="RefreshMaintenanceButton_Click">
                        <Button.Resources>
                            <Style TargetType="Border">
                                <Setter Property="CornerRadius" Value="8"/>
                            </Style>
                        </Button.Resources>
                    </Button>

                    <Button x:Name="AddMaintenanceButton"
                    Content="âž• Ãšj kÃ©relem" 
                    Margin="5,0" 
                    Padding="15,12" 
                    Background="#16A34A" 
                    Foreground="White" 
                    BorderThickness="0"
                    FontSize="16"
                    Click="AddMaintenanceButton_Click">
                        <Button.Resources>
                            <Style TargetType="Border">
                                <Setter Property="CornerRadius" Value="8"/>
                            </Style>
                        </Button.Resources>
                    </Button>

                    <Button x:Name="EditMaintenanceButton"
                    Content="âœï¸ SzerkesztÃ©s" 
                    Margin="5,0" 
                    Padding="15,12" 
                    Background="#2563EB" 
                    Foreground="White" 
                    BorderThickness="0"
                    FontSize="16"
                    Click="EditMaintenanceButton_Click">
                        <Button.Resources>
                            <Style TargetType="Border">
                                <Setter Property="CornerRadius" Value="8"/>
                            </Style>
                        </Button.Resources>
                    </Button>

                    <Button x:Name="DeleteMaintenanceButton"
                    Content="ðŸ—‘ï¸ TÃ¶rlÃ©s" 
                    Margin="5,0" 
                    Padding="15,12" 
                    Background="#DC2626" 
                    Foreground="White" 
                    BorderThickness="0"
                    FontSize="16"
                    Click="DeleteMaintenanceButton_Click">
                        <Button.Resources>
                            <Style TargetType="Border">
                                <Setter Property="CornerRadius" Value="8"/>
                            </Style>
                        </Button.Resources>
                    </Button>
                </StackPanel>
            </Grid>

            <!-- Tartalom -->
            <Grid Grid.Row="1">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <!-- KarbantartÃ¡si kÃ©relem Å±rlap - Ãºj stÃ­lus -->
                <Border x:Name="maintenanceEditPanel" 
                Grid.Row="0" 
                Padding="40" 
                Margin="40,0,40,40" 
                Background="White" 
                CornerRadius="16" 
                BorderThickness="1"
                BorderBrush="#E2E8F0"
                Effect="{StaticResource BoxShadow}"
                Visibility="Collapsed">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <!-- FejlÃ©c -->
                        <TextBlock Grid.Row="0" 
                           x:Name="maintenanceEditTitle" 
                           Text="Ãšj karbantartÃ¡si kÃ©relem" 
                           FontSize="28" 
                           FontWeight="SemiBold" 
                           Margin="0,0,0,30"/>

                        <!-- Å°rlap tartalma -->
                        <Grid Grid.Row="1" Margin="0,0,0,20">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>

                            <!-- ElsÅ‘ sor - Alap adatok -->
                            <!-- Szoba kivÃ¡lasztÃ¡sa -->
                            <Border Grid.Column="0" Grid.Row="0" Margin="0,0,30,30" BorderThickness="1" BorderBrush="#E2E8F0" CornerRadius="12" Padding="20">
                                <StackPanel>
                                    <TextBlock Text="Szoba" FontWeight="SemiBold" FontSize="18" Margin="0,0,0,15"/>
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        <ComboBox Grid.Column="0" x:Name="MaintenanceRoomComboBox" Padding="15,12" FontSize="16" DisplayMemberPath="RoomNumber" SelectedValuePath="RoomId"/>
                                        <Button Grid.Column="1" Content="â†»" Width="45" Height="45" Margin="10,0,0,0" Click="ReloadRoomsButton_Click"/>
                                    </Grid>
                                </StackPanel>
                            </Border>

                            <!-- KarbantartÃ¡s dÃ¡tuma -->
                            <Border Grid.Column="1" Grid.Row="0" Margin="0,0,30,30" BorderThickness="1" BorderBrush="#E2E8F0" CornerRadius="12" Padding="20">
                                <StackPanel>
                                    <TextBlock Text="KarbantartÃ¡s dÃ¡tuma" FontWeight="SemiBold" FontSize="18" Margin="0,0,0,15"/>
                                    <DatePicker x:Name="MaintenanceDatePicker" Padding="15,12" FontSize="16"/>
                                </StackPanel>
                            </Border>

                            <!-- StÃ¡tusz panel -->
                            <Border x:Name="StatusPanel" Grid.Column="2" Grid.Row="0" Margin="0,0,0,30" BorderThickness="1" BorderBrush="#E2E8F0" CornerRadius="12" Padding="20">
                                <StackPanel>
                                    <TextBlock Text="StÃ¡tusz" FontWeight="SemiBold" FontSize="18" Margin="0,0,0,15"/>
                                    <ComboBox x:Name="MaintenanceStatusComboBox" Padding="15,12" FontSize="16">
                                        <ComboBoxItem Content="Not resolved yet"/>
                                        <ComboBoxItem Content="In Progress"/>
                                        <ComboBoxItem Content="Resolved"/>
                                    </ComboBox>
                                </StackPanel>
                            </Border>

                            <!-- MÃ¡sodik sor - LeÃ­rÃ¡s Ã©s Jegyzetek -->
                            <!-- LeÃ­rÃ¡s -->
                            <Border Grid.Column="0" Grid.ColumnSpan="2" Grid.Row="1" Margin="0,0,30,30" BorderThickness="1" BorderBrush="#E2E8F0" CornerRadius="12" Padding="20">
                                <StackPanel>
                                    <TextBlock Text="ProblÃ©ma leÃ­rÃ¡sa" FontWeight="SemiBold" FontSize="18" Margin="0,0,0,15"/>
                                    <TextBox x:Name="MaintenanceDescriptionTextBox" TextWrapping="Wrap" Height="100" Padding="15,12" FontSize="16"/>
                                </StackPanel>
                            </Border>

                            <!-- Jegyzetek -->
                            <Border Grid.Column="2" Grid.Row="1" Margin="0,0,0,30" BorderThickness="1" BorderBrush="#E2E8F0" CornerRadius="12" Padding="20">
                                <StackPanel>
                                    <TextBlock Text="Jegyzetek" FontWeight="SemiBold" FontSize="18" Margin="0,0,0,15"/>
                                    <TextBox x:Name="NotesTextBox" TextWrapping="Wrap" Height="100" Padding="15,12" FontSize="16"/>
                                </StackPanel>
                            </Border>

                            <!-- Harmadik sor - TovÃ¡bbi adatok -->
                            <!-- MegoldÃ¡s dÃ¡tuma -->
                            <Border x:Name="ResolutionDatePanel" Grid.Column="0" Grid.Row="2" Margin="0,0,30,30" BorderThickness="1" BorderBrush="#E2E8F0" CornerRadius="12" Padding="20">
                                <StackPanel>
                                    <TextBlock Text="MegoldÃ¡s dÃ¡tuma" FontWeight="SemiBold" FontSize="18" Margin="0,0,0,15"/>
                                    <DatePicker x:Name="ResolutionDatePicker" Padding="15,12" FontSize="16"/>
                                </StackPanel>
                            </Border>

                            <!-- KÃ¶ltsÃ©g panel -->
                            <Border x:Name="CostPanel" Grid.Column="1" Grid.Row="2" Margin="0,0,30,30" BorderThickness="1" BorderBrush="#E2E8F0" CornerRadius="12" Padding="20">
                                <StackPanel>
                                    <TextBlock Text="KÃ¶ltsÃ©g (Ft)" FontWeight="SemiBold" FontSize="18" Margin="0,0,0,15"/>
                                    <TextBox x:Name="CostTextBox" Padding="15,12" FontSize="16"/>
                                </StackPanel>
                            </Border>

                            <!-- SzemÃ©lyzet panel -->
                            <Border x:Name="StaffPanel" Grid.Column="2" Grid.Row="2" Margin="0,0,0,30" BorderThickness="1" BorderBrush="#E2E8F0" CornerRadius="12" Padding="20">
                                <StackPanel>
                                    <TextBlock Text="SzemÃ©lyzet" FontWeight="SemiBold" FontSize="18" Margin="0,0,0,15"/>
                                    <ComboBox x:Name="StaffComboBox" Padding="15,12" FontSize="16" DisplayMemberPath="FullName" SelectedValuePath="StaffId"/>
                                </StackPanel>
                            </Border>

                            <!-- MÅ±veleti gombok -->
                            <StackPanel Grid.Column="1" Grid.ColumnSpan="2" Grid.Row="3" Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Bottom">
                                <Button x:Name="CancelMaintenanceEditButton"
                                Content="MÃ©gse" 
                                Padding="25,15" 
                                Margin="0,0,10,0" 
                                Background="#6B7280" 
                                Foreground="White" 
                                BorderThickness="0"
                                FontSize="16"
                                Click="CancelMaintenanceEditButton_Click">
                                    <Button.Resources>
                                        <Style TargetType="Border">
                                            <Setter Property="CornerRadius" Value="8"/>
                                        </Style>
                                    </Button.Resources>
                                </Button>
                                <Button x:Name="SaveMaintenanceButton"
                                Content="MentÃ©s" 
                                Padding="25,15" 
                                Background="#16A34A" 
                                Foreground="White" 
                                BorderThickness="0"
                                FontSize="16"
                                Click="SaveMaintenanceButton_Click">
                                    <Button.Resources>
                                        <Style TargetType="Border">
                                            <Setter Property="CornerRadius" Value="8"/>
                                        </Style>
                                    </Button.Resources>
                                </Button>
                            </StackPanel>
                        </Grid>
                    </Grid>
                </Border>

                <!-- KarbantartÃ¡si kÃ©relmek listÃ¡ja -->
                <ListView x:Name="maintenanceListView" 
                  Grid.Row="1" 
                  Margin="40,0,40,40" 
                  BorderThickness="1"
                  BorderBrush="#E2E8F0"
                  Background="White"
                  FontSize="16">
                    <ListView.View>
                        <GridView>
                            <GridViewColumn Header="Szoba" DisplayMemberBinding="{Binding RoomNumber}" Width="Auto"/>
                            <GridViewColumn Header="ProblÃ©ma leÃ­rÃ¡sa" DisplayMemberBinding="{Binding Description}" Width="Auto"/>
                            <GridViewColumn Header="KarbantartÃ¡s dÃ¡tuma" DisplayMemberBinding="{Binding MaintenanceDate, StringFormat='{}{0:yyyy.MM.dd}'}" Width="Auto"/>
                            <GridViewColumn Header="BejelentÃ©s dÃ¡tuma" DisplayMemberBinding="{Binding DateReported, StringFormat='{}{0:yyyy.MM.dd}'}" Width="Auto"/>
                            <GridViewColumn Header="StÃ¡tusz" DisplayMemberBinding="{Binding Status}" Width="Auto"/>
                            <GridViewColumn Header="Megoldva" DisplayMemberBinding="{Binding ResolutionDate, StringFormat='{}{0:yyyy.MM.dd}'}" Width="Auto"/>
                            <GridViewColumn Header="KÃ¶ltsÃ©g" DisplayMemberBinding="{Binding Cost, StringFormat='{}{0:N0} Ft'}" Width="Auto"/>
                            <GridViewColumn Header="Jegyzetek" DisplayMemberBinding="{Binding Notes}" Width="Auto"/>
                        </GridView>
                    </ListView.View>
                    <ListView.ItemContainerStyle>
                        <Style TargetType="ListViewItem">
                            <Setter Property="HorizontalContentAlignment" Value="Stretch" />
                            <Setter Property="Padding" Value="10,8" />
                            <Setter Property="Height" Value="45" />
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding Status}" Value="Resolved">
                                    <Setter Property="Background" Value="#DCFCE7" />
                                </DataTrigger>
                                <DataTrigger Binding="{Binding Status}" Value="In Progress">
                                    <Setter Property="Background" Value="#FEF3C7" />
                                </DataTrigger>
                                <DataTrigger Binding="{Binding Status}" Value="Not resolved yet">
                                    <Setter Property="Background" Value="#FEE2E2" />
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </ListView.ItemContainerStyle>
                </ListView>
            </Grid>
        </Grid>
        <!-- EsemÃ©nyek kontÃ©ner -->
        <Grid x:Name="eventsContainer" Grid.Row="1" Visibility="Collapsed">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- FelsÅ‘ fejlÃ©c Ã©s menÃ¼ -->
            <Grid Grid.Row="0" Background="#1E293B" Margin="0,0,0,25">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" MinWidth="100"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <!-- Vissza gomb -->
                <Button Grid.Column="0" 
                        x:Name="EventBackButton"
                        Content="â¬… Vissza" 
                        HorizontalAlignment="Left" 
                        Margin="30,20" 
                        Padding="25,15" 
                        Background="#3B82F6" 
                        Foreground="White" 
                        BorderThickness="0"
                        FontSize="18"
                        Click="EventsBackButton_Click">
                    <Button.Resources>
                        <Style TargetType="Border">
                            <Setter Property="CornerRadius" Value="8"/>
                        </Style>
                    </Button.Resources>
                </Button>

                <!-- CÃ­m -->
                <TextBlock Grid.Column="1" 
                   Text="EsemÃ©nyek KezelÃ©se" 
                   VerticalAlignment="Center" 
                   HorizontalAlignment="Center" 
                   FontSize="32" 
                   FontWeight="SemiBold" 
                   Foreground="White"/>

                <!-- MÅ±veleti gombok -->
                <StackPanel Grid.Column="2" Orientation="Horizontal" Margin="30,20">
                    <Button x:Name="RefreshEventsButton" 
                    Content="ðŸ”„ FrissÃ­tÃ©s" 
                    Margin="5,0" 
                    Padding="15,12"
                    Background="#6366F1" 
                    Foreground="White" 
                    BorderThickness="0"
                    FontSize="16"
                    Click="RefreshEventsButton_Click">
                        <Button.Resources>
                            <Style TargetType="Border">
                                <Setter Property="CornerRadius" Value="8"/>
                            </Style>
                        </Button.Resources>
                    </Button>

                    <Button x:Name="AddEventButton"
                    Content="âž• Ãšj esemÃ©ny" 
                    Margin="5,0" 
                    Padding="15,12" 
                    Background="#16A34A" 
                    Foreground="White" 
                    BorderThickness="0"
                    FontSize="16"
                    Click="AddEventButton_Click">
                        <Button.Resources>
                            <Style TargetType="Border">
                                <Setter Property="CornerRadius" Value="8"/>
                            </Style>
                        </Button.Resources>
                    </Button>

                    <Button x:Name="EditEventButton"
                    Content="âœï¸ SzerkesztÃ©s" 
                    Margin="5,0" 
                    Padding="15,12" 
                    Background="#2563EB" 
                    Foreground="White" 
                    BorderThickness="0"
                    FontSize="16"
                    Click="EditEventButton_Click">
                        <Button.Resources>
                            <Style TargetType="Border">
                                <Setter Property="CornerRadius" Value="8"/>
                            </Style>
                        </Button.Resources>
                    </Button>

                    <Button x:Name="DeleteEventButton"
                    Content="ðŸ—‘ï¸ TÃ¶rlÃ©s" 
                    Margin="5,0" 
                    Padding="15,12" 
                    Background="#DC2626" 
                    Foreground="White" 
                    BorderThickness="0"
                    FontSize="16"
                    Click="DeleteEventButton_Click">
                        <Button.Resources>
                            <Style TargetType="Border">
                                <Setter Property="CornerRadius" Value="8"/>
                            </Style>
                        </Button.Resources>
                    </Button>
                </StackPanel>
            </Grid>

            <Grid Grid.Row="1">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <!-- EsemÃ©nyek listÃ¡ja - Ãºj stÃ­lus -->
                <ListView x:Name="eventsListView" 
                  Grid.Column="0" 
                  Margin="40,0,40,40" 
                  BorderThickness="1"
                  BorderBrush="#E2E8F0"
                  Background="White"
                  FontSize="16">
                    <ListView.View>
                        <GridView>
                            <GridViewColumn Header="NÃ©v" DisplayMemberBinding="{Binding EventName}" Width="Auto"/>
                            <GridViewColumn Header="DÃ¡tum" DisplayMemberBinding="{Binding EventDate, StringFormat='{}{0:yyyy.MM.dd}'}" Width="Auto"/>
                            <GridViewColumn Header="HelyszÃ­n" DisplayMemberBinding="{Binding Location}" Width="Auto"/>
                            <GridViewColumn Header="KapacitÃ¡s" DisplayMemberBinding="{Binding Capacity}" Width="Auto"/>
                            <GridViewColumn Header="Ãr" DisplayMemberBinding="{Binding Price, StringFormat='{}{0:N0} Ft'}" Width="Auto"/>
                            <GridViewColumn Header="StÃ¡tusz" DisplayMemberBinding="{Binding Status}" Width="Auto"/>
                            <GridViewColumn Header="SzervezÅ‘" DisplayMemberBinding="{Binding OrganizerName}" Width="Auto"/>
                        </GridView>
                    </ListView.View>
                    <ListView.ItemContainerStyle>
                        <Style TargetType="ListViewItem">
                            <Setter Property="HorizontalContentAlignment" Value="Stretch" />
                            <Setter Property="Padding" Value="10,8" />
                            <Setter Property="Height" Value="45" />
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding Status}" Value="AktÃ­v">
                                    <Setter Property="Background" Value="#DCFCE7" />
                                </DataTrigger>
                                <DataTrigger Binding="{Binding Status}" Value="FÃ¼ggÅ‘ben">
                                    <Setter Property="Background" Value="#FEF3C7" />
                                </DataTrigger>
                                <DataTrigger Binding="{Binding Status}" Value="LezÃ¡rva">
                                    <Setter Property="Background" Value="#E2E8F0" />
                                </DataTrigger>
                                <DataTrigger Binding="{Binding Status}" Value="TÃ¶rÃ¶lve">
                                    <Setter Property="Background" Value="#FEE2E2" />
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </ListView.ItemContainerStyle>
                </ListView>

                <!-- EsemÃ©ny szerkesztÅ‘ panel - Ãºj stÃ­lus -->
                <Border x:Name="eventEditPanel" 
                Grid.Column="1" 
                Padding="40" 
                Margin="0,0,40,40" 
                Background="White" 
                CornerRadius="16" 
                BorderThickness="1"
                BorderBrush="#E2E8F0"
                Effect="{StaticResource BoxShadow}"
                Width="450" 
                Visibility="Collapsed">
                    <ScrollViewer VerticalScrollBarVisibility="Auto">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>

                            <!-- FejlÃ©c -->
                            <TextBlock Grid.Row="0" 
                               x:Name="eventEditTitle" 
                               Text="EsemÃ©ny szerkesztÃ©se" 
                               FontSize="28" 
                               FontWeight="SemiBold" 
                               Margin="0,0,0,30"/>

                            <!-- Å°rlap mezÅ‘k - kÃ¡rtyaszerÅ±en -->
                            <StackPanel Grid.Row="1">
                                <Border Margin="0,0,0,20" BorderThickness="1" BorderBrush="#E2E8F0" CornerRadius="12" Padding="20">
                                    <StackPanel>
                                        <TextBlock Text="EsemÃ©ny neve" FontWeight="SemiBold" FontSize="18" Margin="0,0,0,15"/>
                                        <TextBox x:Name="EventNameTextBox" Padding="15,12" FontSize="16"/>
                                    </StackPanel>
                                </Border>

                                <Border Margin="0,0,0,20" BorderThickness="1" BorderBrush="#E2E8F0" CornerRadius="12" Padding="20">
                                    <StackPanel>
                                        <TextBlock Text="KapacitÃ¡s" FontWeight="SemiBold" FontSize="18" Margin="0,0,0,15"/>
                                        <TextBox x:Name="EventCapacityTextBox" Padding="15,12" FontSize="16"/>
                                    </StackPanel>
                                </Border>

                                <Border Margin="0,0,0,20" BorderThickness="1" BorderBrush="#E2E8F0" CornerRadius="12" Padding="20">
                                    <StackPanel>
                                        <TextBlock Text="StÃ¡tusz" FontWeight="SemiBold" FontSize="18" Margin="0,0,0,15"/>
                                        <ComboBox x:Name="EventStatusComboBox" Padding="15,12" FontSize="16">
                                            <ComboBoxItem Content="AktÃ­v"/>
                                            <ComboBoxItem Content="FÃ¼ggÅ‘ben"/>
                                            <ComboBoxItem Content="LezÃ¡rva"/>
                                            <ComboBoxItem Content="TÃ¶rÃ¶lve"/>
                                        </ComboBox>
                                    </StackPanel>
                                </Border>

                                <Border Margin="0,0,0,20" BorderThickness="1" BorderBrush="#E2E8F0" CornerRadius="12" Padding="20">
                                    <StackPanel>
                                        <TextBlock Text="DÃ¡tum" FontWeight="SemiBold" FontSize="18" Margin="0,0,0,15"/>
                                        <DatePicker x:Name="EventDatePicker" Padding="15,12" FontSize="16"/>
                                    </StackPanel>
                                </Border>

                                <Border Margin="0,0,0,20" BorderThickness="1" BorderBrush="#E2E8F0" CornerRadius="12" Padding="20">
                                    <StackPanel>
                                        <TextBlock Text="HelyszÃ­n" FontWeight="SemiBold" FontSize="18" Margin="0,0,0,15"/>
                                        <TextBox x:Name="LocationTextBox" Padding="15,12" FontSize="16"/>
                                    </StackPanel>
                                </Border>

                                <Border Margin="0,0,0,20" BorderThickness="1" BorderBrush="#E2E8F0" CornerRadius="12" Padding="20">
                                    <StackPanel>
                                        <TextBlock Text="Ãr" FontWeight="SemiBold" FontSize="18" Margin="0,0,0,15"/>
                                        <TextBox x:Name="PriceTextBox" Padding="15,12" FontSize="16"/>
                                    </StackPanel>
                                </Border>

                                <Border Margin="0,0,0,20" BorderThickness="1" BorderBrush="#E2E8F0" CornerRadius="12" Padding="20">
                                    <StackPanel>
                                        <TextBlock Text="LeÃ­rÃ¡s" FontWeight="SemiBold" FontSize="18" Margin="0,0,0,15"/>
                                        <TextBox x:Name="EventDescriptionTextBox" 
                                         TextWrapping="Wrap" 
                                         AcceptsReturn="True" 
                                         Height="100" 
                                         Padding="15,12" 
                                         FontSize="16"/>
                                    </StackPanel>
                                </Border>

                                <Border Margin="0,0,0,20" BorderThickness="1" BorderBrush="#E2E8F0" CornerRadius="12" Padding="20">
                                    <StackPanel>
                                        <TextBlock Text="SzervezÅ‘ neve" FontWeight="SemiBold" FontSize="18" Margin="0,0,0,15"/>
                                        <TextBox x:Name="OrganizerNameTextBox" Padding="15,12" FontSize="16"/>
                                    </StackPanel>
                                </Border>

                                <Border Margin="0,0,0,20" BorderThickness="1" BorderBrush="#E2E8F0" CornerRadius="12" Padding="20">
                                    <StackPanel>
                                        <TextBlock Text="KapcsolattartÃ¡si informÃ¡ciÃ³k" FontWeight="SemiBold" FontSize="18" Margin="0,0,0,15"/>
                                        <TextBox x:Name="ContactInfoTextBox" Padding="15,12" FontSize="16"/>
                                    </StackPanel>
                                </Border>

                                <!-- MÅ±veleti gombok -->
                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,20,0,0">
                                    <Button Content="MÃ©gse" 
                                    Padding="25,15" 
                                    Margin="0,0,10,0" 
                                    Background="#6B7280" 
                                    Foreground="White" 
                                    BorderThickness="0"
                                    FontSize="16"
                                    Click="CancelEventEditButton_Click">
                                        <Button.Resources>
                                            <Style TargetType="Border">
                                                <Setter Property="CornerRadius" Value="8"/>
                                            </Style>
                                        </Button.Resources>
                                    </Button>
                                    <Button Content="MentÃ©s" 
                                    Padding="25,15" 
                                    Background="#16A34A" 
                                    Foreground="White" 
                                    BorderThickness="0"
                                    FontSize="16"
                                    Click="SaveEventButton_Click">
                                        <Button.Resources>
                                            <Style TargetType="Border">
                                                <Setter Property="CornerRadius" Value="8"/>
                                            </Style>
                                        </Button.Resources>
                                    </Button>
                                </StackPanel>
                            </StackPanel>
                        </Grid>
                    </ScrollViewer>
                </Border>
            </Grid>
        </Grid>

        <!-- FoglalÃ¡s tÃ­pus vÃ¡lasztÃ³ panel -->
        <Grid x:Name="bookingTypeSelectionContainer" Grid.Row="1" Visibility="Collapsed">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- FejlÃ©c -->
            <Grid Grid.Row="0" Background="#1E293B" Margin="0,0,0,25">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- Vissza gomb -->
                <Button Grid.Column="0" 
                Content="â¬… Vissza" 
                HorizontalAlignment="Left" 
                Margin="30,20" 
                Padding="25,15" 
                Background="#3B82F6" 
                Foreground="White" 
                BorderThickness="0"
                FontSize="18"
                Click="BookingTypeBackButton_Click">
                    <Button.Resources>
                        <Style TargetType="Border">
                            <Setter Property="CornerRadius" Value="8"/>
                        </Style>
                    </Button.Resources>
                </Button>

                <!-- CÃ­m -->
                <TextBlock Grid.Column="1" 
                   Text="VÃ¡lasszon foglalÃ¡s tÃ­pust" 
                   VerticalAlignment="Center" 
                   HorizontalAlignment="Center" 
                   FontSize="32" 
                   FontWeight="SemiBold" 
                   Foreground="White"/>
            </Grid>

            <!-- VÃ¡lasztÃ¡si lehetÅ‘sÃ©gek -->
            <UniformGrid Grid.Row="1" Columns="2" Margin="100,50">
                <!-- SzobafoglalÃ¡sok kezelÃ©se -->
                <Border Style="{StaticResource DashboardCard}" Background="#F0FDF4" Margin="20" MouseLeftButtonDown="RoomBookingsCard_MouseLeftButtonDown">
                    <Border.RenderTransform>
                        <ScaleTransform/>
                    </Border.RenderTransform>
                    <StackPanel>
                        <TextBlock Text="&#xE8F4;" Style="{StaticResource DashboardIcon}" Foreground="#16A34A"/>
                        <TextBlock Text="SzobafoglalÃ¡sok kezelÃ©se" Style="{StaticResource DashboardTitle}" Foreground="#14532D"/>
                        <TextBlock Text="SzÃ¡llodai szobÃ¡k foglalÃ¡sainak kezelÃ©se, check-in, check-out folyamatok" 
                           FontSize="14" TextWrapping="Wrap" Margin="0,10,0,0" Foreground="#166534"/>
                    </StackPanel>
                </Border>

                <!-- EsemÃ©nyfoglalÃ¡sok kezelÃ©se -->
                <Border Style="{StaticResource DashboardCard}" Background="#F0FDFA" Margin="20" MouseLeftButtonDown="EventBookingsCard_MouseLeftButtonDown">
                    <Border.RenderTransform>
                        <ScaleTransform/>
                    </Border.RenderTransform>
                    <StackPanel>
                        <TextBlock Text="&#xE787;" Style="{StaticResource DashboardIcon}" Foreground="#0D9488"/>
                        <TextBlock Text="EsemÃ©nyfoglalÃ¡sok kezelÃ©se" Style="{StaticResource DashboardTitle}" Foreground="#134E4A"/>
                        <TextBlock Text="Programok, rendezvÃ©nyek foglalÃ¡sainak kezelÃ©se, rÃ©sztvevÅ‘k nyilvÃ¡ntartÃ¡sa" 
                           FontSize="14" TextWrapping="Wrap" Margin="0,10,0,0" Foreground="#0F766E"/>
                    </StackPanel>
                </Border>
            </UniformGrid>
        </Grid>

        <!-- EsemÃ©nyfoglalÃ¡sok kezelÃ©se kontÃ©ner -->
        <Grid x:Name="eventBookingsContainer" Grid.Row="1" Visibility="Collapsed">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- FejlÃ©c -->
            <Grid Grid.Row="0" Background="#1E293B">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <!-- Vissza gomb -->
                <Button Grid.Column="0" 
                x:Name="EventBookingsBackButton"
                Content="â¬… Vissza" 
                HorizontalAlignment="Left" 
                Margin="30,20" 
                Padding="25,15" 
                Background="#3B82F6" 
                Foreground="White" 
                BorderThickness="0"
                FontSize="18"
                Click="EventBookingsBackButton_Click">
                    <Button.Resources>
                        <Style TargetType="Border">
                            <Setter Property="CornerRadius" Value="8"/>
                        </Style>
                    </Button.Resources>
                </Button>

                <!-- CÃ­m -->
                <TextBlock Grid.Column="1" 
                   Text="EsemÃ©nyfoglalÃ¡sok kezelÃ©se" 
                   VerticalAlignment="Center" 
                   HorizontalAlignment="Center" 
                   FontSize="32" 
                   FontWeight="SemiBold" 
                   Foreground="White"/>

                <!-- Ãšj foglalÃ¡s gomb -->
                <Button Grid.Column="2" 
                x:Name="NewEventBookingButton"
                Content="+ Ãšj esemÃ©nyfoglalÃ¡s" 
                HorizontalAlignment="Right" 
                Margin="30,20" 
                Padding="25,15" 
                Background="#10B981" 
                Foreground="White" 
                BorderThickness="0"
                FontSize="18"
                Click="NewEventBookingButton_Click">
                    <Button.Resources>
                        <Style TargetType="Border">
                            <Setter Property="CornerRadius" Value="8"/>
                        </Style>
                    </Button.Resources>
                </Button>
            </Grid>

            <!-- Tartalom -->
            <Grid Grid.Row="1" Margin="30">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <!-- KeresÃ©s Ã©s szÅ±rÃ©s -->
                <Grid Grid.Row="0" Margin="0,0,0,20">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <!-- KeresÃ©s -->
                    <Border Grid.Column="0" 
                    Background="White" 
                    BorderBrush="#E2E8F0" 
                    BorderThickness="1" 
                    CornerRadius="8" 
                    Padding="15" 
                    Margin="0,0,10,0">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0" 
                               Text="ðŸ”" 
                               FontSize="18" 
                               VerticalAlignment="Center" 
                               Margin="0,0,10,0"/>
                            <TextBox Grid.Column="1" 
         x:Name="EventBookingSearchTextBox"
         BorderThickness="0" 
         FontSize="16" 
         VerticalAlignment="Center" 
         Background="Transparent"
         TextChanged="EventBookingSearchTextBox_TextChanged">
                                <TextBox.Style>
                                    <Style TargetType="TextBox">
                                        <Setter Property="Template">
                                            <Setter.Value>
                                                <ControlTemplate TargetType="TextBox">
                                                    <Grid>
                                                        <TextBlock Text="KeresÃ©s nÃ©v, esemÃ©ny vagy stÃ¡tusz alapjÃ¡n..." 
                                       Foreground="Gray" 
                                       Visibility="{Binding Text.IsEmpty, RelativeSource={RelativeSource TemplatedParent}, Converter={StaticResource BooleanToVisibilityConverter}}"/>
                                                        <ScrollViewer x:Name="PART_ContentHost"/>
                                                    </Grid>
                                                </ControlTemplate>
                                            </Setter.Value>
                                        </Setter>
                                    </Style>
                                </TextBox.Style>
                            </TextBox>
                        </Grid>
                    </Border>

                    <!-- FrissÃ­tÃ©s gomb -->
                    <Button Grid.Column="1" 
                    x:Name="RefreshEventBookingsButton"
                    Content="ðŸ”„ FrissÃ­tÃ©s" 
                    Padding="20,15" 
                    Background="#3B82F6" 
                    Foreground="White" 
                    BorderThickness="0"
                    FontSize="16"
                    Click="RefreshEventBookingsButton_Click">
                        <Button.Resources>
                            <Style TargetType="Border">
                                <Setter Property="CornerRadius" Value="8"/>
                            </Style>
                        </Button.Resources>
                    </Button>
                </Grid>

                <!-- FoglalÃ¡sok listÃ¡ja -->
                <Border Grid.Row="1" 
                Background="White" 
                BorderBrush="#E2E8F0" 
                BorderThickness="1" 
                CornerRadius="12" 
                Padding="0">
                    <ListView x:Name="eventBookingsListView" 
          BorderThickness="0" 
          Background="Transparent"
          SelectionMode="Single"
          FontSize="16">
                        <ListView.View>
                            <GridView>
                                <GridViewColumn Header="FoglalÃ¡s ID" Width="Auto">
                                    <GridViewColumn.CellTemplate>
                                        <DataTemplate>
                                            <TextBlock Text="{Binding EventBookingId}" VerticalAlignment="Center"/>
                                        </DataTemplate>
                                    </GridViewColumn.CellTemplate>
                                </GridViewColumn>
                                <GridViewColumn Header="EsemÃ©ny" Width="Auto">
                                    <GridViewColumn.CellTemplate>
                                        <DataTemplate>
                                            <TextBlock Text="{Binding EventName}" VerticalAlignment="Center"/>
                                        </DataTemplate>
                                    </GridViewColumn.CellTemplate>
                                </GridViewColumn>
                                <GridViewColumn Header="VendÃ©g" Width="Auto">
                                    <GridViewColumn.CellTemplate>
                                        <DataTemplate>
                                            <TextBlock Text="{Binding GuestName}" VerticalAlignment="Center"/>
                                        </DataTemplate>
                                    </GridViewColumn.CellTemplate>
                                </GridViewColumn>
                                <GridViewColumn Header="Jegyek szÃ¡ma" Width="Auto">
                                    <GridViewColumn.CellTemplate>
                                        <DataTemplate>
                                            <TextBlock Text="{Binding NumberOfTickets}" VerticalAlignment="Center"/>
                                        </DataTemplate>
                                    </GridViewColumn.CellTemplate>
                                </GridViewColumn>
                                <GridViewColumn Header="Ã–sszeg" Width="Auto">
                                    <GridViewColumn.CellTemplate>
                                        <DataTemplate>
                                            <TextBlock Text="{Binding TotalPrice, StringFormat='{}{0:N0} Ft'}" VerticalAlignment="Center"/>
                                        </DataTemplate>
                                    </GridViewColumn.CellTemplate>
                                </GridViewColumn>
                                <GridViewColumn Header="FoglalÃ¡s dÃ¡tuma" Width="Auto">
                                    <GridViewColumn.CellTemplate>
                                        <DataTemplate>
                                            <TextBlock Text="{Binding BookingDate, StringFormat='{}{0:yyyy.MM.dd}'}" VerticalAlignment="Center"/>
                                        </DataTemplate>
                                    </GridViewColumn.CellTemplate>
                                </GridViewColumn>
                                <GridViewColumn Header="StÃ¡tusz" Width="80">
                                    <GridViewColumn.CellTemplate>
                                        <DataTemplate>
                                            <Button Margin="0,0,3,0" Padding="8,4" Tag="{Binding BookingId}" Click="StatusButton_Click" Background="#4F46E5" Foreground="White" BorderThickness="0">
                                                <Button.Content>
                                                    <TextBlock>
                                                        <TextBlock.Text>
                                                            <MultiBinding Converter="{StaticResource StatusToButtonTextConverter}">
                                                                <Binding Path="Status"/>
                                                            </MultiBinding>
                                                        </TextBlock.Text>
                                                    </TextBlock>
                                                </Button.Content>
                                                <Button.Resources>
                                                    <Style TargetType="Border">
                                                        <Setter Property="CornerRadius" Value="4"/>
                                                    </Style>
                                                </Button.Resources>
                                            </Button>
                                        </DataTemplate>
                                    </GridViewColumn.CellTemplate>
                                </GridViewColumn>
                                <GridViewColumn Header="FizetÃ©si stÃ¡tusz" Width="Auto">
                                    <GridViewColumn.CellTemplate>
                                        <DataTemplate>
                                            <TextBlock Text="{Binding PaymentStatus}" VerticalAlignment="Center">
                                                <TextBlock.Style>
                                                    <Style TargetType="TextBlock">
                                                        <Style.Triggers>
                                                            <DataTrigger Binding="{Binding PaymentStatus}" Value="Fizetve">
                                                                <Setter Property="Foreground" Value="#059669"/>
                                                                <Setter Property="FontWeight" Value="SemiBold"/>
                                                            </DataTrigger>
                                                            <DataTrigger Binding="{Binding PaymentStatus}" Value="FÃ¼ggÅ‘ben">
                                                                <Setter Property="Foreground" Value="#D97706"/>
                                                                <Setter Property="FontWeight" Value="SemiBold"/>
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </TextBlock.Style>
                                            </TextBlock>
                                        </DataTemplate>
                                    </GridViewColumn.CellTemplate>
                                </GridViewColumn>
                                <GridViewColumn Header="MÅ±veletek" Width="170">
                                    <GridViewColumn.CellTemplate>
                                        <DataTemplate>
                                            <StackPanel Orientation="Horizontal">
                                                <Button Content="RÃ©szletek" 
                                                Tag="{Binding EventBookingId}"
                                                Click="EventBookingDetailsButton_Click"
                                                Background="#3B82F6" 
                                                Foreground="White"
                                                Padding="10,5"
                                                Margin="0,0,5,0">
                                                    <Button.Resources>
                                                        <Style TargetType="Border">
                                                            <Setter Property="CornerRadius" Value="4"/>
                                                        </Style>
                                                    </Button.Resources>
                                                </Button>
                                                <Button Content="TÃ¶rlÃ©s" 
                                                Tag="{Binding EventBookingId}"
                                                Click="DeleteEventBookingButton_Click"
                                                Background="#EF4444" 
                                                Foreground="White"
                                                Padding="10,5">
                                                    <Button.Resources>
                                                        <Style TargetType="Border">
                                                            <Setter Property="CornerRadius" Value="4"/>
                                                        </Style>
                                                    </Button.Resources>
                                                </Button>
                                            </StackPanel>
                                        </DataTemplate>
                                    </GridViewColumn.CellTemplate>
                                </GridViewColumn>
                            </GridView>
                        </ListView.View>
                    </ListView>
                </Border>
            </Grid>
        </Grid>

        <!-- Ãšj esemÃ©nyfoglalÃ¡s panel -->
        <Grid x:Name="newEventBookingPanel" Grid.Row="1" Visibility="Collapsed">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- FejlÃ©c -->
            <Grid Grid.Row="0" Background="#1E293B">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- Vissza gomb -->
                <Button Grid.Column="0" 
                Content="â¬… Vissza" 
                HorizontalAlignment="Left" 
                Margin="30,20" 
                Padding="25,15" 
                Background="#3B82F6" 
                Foreground="White" 
                BorderThickness="0"
                FontSize="18"
                Click="NewEventBookingBackButton_Click">
                    <Button.Resources>
                        <Style TargetType="Border">
                            <Setter Property="CornerRadius" Value="8"/>
                        </Style>
                    </Button.Resources>
                </Button>

                <!-- CÃ­m -->
                <TextBlock Grid.Column="1" 
                   Text="Ãšj esemÃ©nyfoglalÃ¡s lÃ©trehozÃ¡sa" 
                   VerticalAlignment="Center" 
                   HorizontalAlignment="Center" 
                   FontSize="32" 
                   FontWeight="SemiBold" 
                   Foreground="White"/>
            </Grid>

            <!-- Å°rlap -->
            <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
                <Border Background="White" 
                BorderBrush="#E2E8F0" 
                BorderThickness="1" 
                CornerRadius="12" 
                Margin="30"
                Padding="30">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <!-- EsemÃ©ny kivÃ¡lasztÃ¡sa -->
                        <StackPanel Grid.Row="0" Grid.Column="0" Margin="0,0,10,20">
                            <TextBlock Text="EsemÃ©ny kivÃ¡lasztÃ¡sa" FontSize="16" FontWeight="SemiBold" Margin="0,0,0,10"/>
                            <ComboBox x:Name="EventComboBox" 
                              DisplayMemberPath="EventName"
                              SelectedValuePath="EventId"
                              FontSize="16"
                              Padding="10"
                              SelectionChanged="EventComboBox_SelectionChanged"/>
                        </StackPanel>

                        <!-- VendÃ©g kivÃ¡lasztÃ¡sa -->
                        <StackPanel Grid.Row="0" Grid.Column="1" Margin="10,0,0,20">
                            <TextBlock Text="VendÃ©g email cÃ­me:" FontSize="16" Margin="0,0,0,5"/>
                            <TextBox x:Name="EventGuestEmailTextBox"
                              FontSize="16"
                              Padding="15,12"/>
                        </StackPanel>

                       

                        <!-- Jegyek szÃ¡ma -->
                        <StackPanel Grid.Row="1" Grid.Column="0" Margin="0,0,10,20">
                            <TextBlock Text="Jegyek szÃ¡ma" FontSize="16" FontWeight="SemiBold" Margin="0,0,0,10"/>
                            <TextBox x:Name="TicketsTextBox" 
                             FontSize="16"
                             Padding="10"
                             TextChanged="TicketsTextBox_TextChanged"/>
                        </StackPanel>

                        <!-- Ã–sszeg -->
                        <StackPanel Grid.Row="1" Grid.Column="1" Margin="10,0,0,20">
                            <TextBlock Text="Ã–sszeg" FontSize="16" FontWeight="SemiBold" Margin="0,0,0,10"/>
                            <TextBox x:Name="EventTotalPriceTextBox" 
                             FontSize="16"
                             Padding="10"
                             IsReadOnly="True"/>
                        </StackPanel>

                        <!-- StÃ¡tusz -->
                        <StackPanel Grid.Row="2" Grid.Column="0" Margin="0,0,10,20">
                            <TextBlock Text="StÃ¡tusz" FontSize="16" FontWeight="SemiBold" Margin="0,0,0,10"/>
                            <ComboBox x:Name="EventBookingStatusComboBox" 
                              FontSize="16"
                              Padding="10">
                                <ComboBoxItem Content="JÃ³vÃ¡hagyva"/>
                                <ComboBoxItem Content="FÃ¼ggÅ‘ben"/>
                            </ComboBox>
                        </StackPanel>

                        <!-- FizetÃ©si stÃ¡tusz -->
                        <StackPanel Grid.Row="2" Grid.Column="1" Margin="10,0,0,20">
                            <TextBlock Text="FizetÃ©si stÃ¡tusz" FontSize="16" FontWeight="SemiBold" Margin="0,0,0,10"/>
                            <ComboBox x:Name="PaymentStatusComboBox" 
                              FontSize="16"
                              Padding="10">
                                <ComboBoxItem Content="Fizetve"/>
                                <ComboBoxItem Content="FÃ¼ggÅ‘ben"/>
                            </ComboBox>
                        </StackPanel>

                        <!-- Jegyzetek -->
                        <StackPanel Grid.Row="3" Grid.Column="0" Grid.ColumnSpan="2" Margin="0,0,0,20">
                            <TextBlock Text="Jegyzetek" FontSize="16" FontWeight="SemiBold" Margin="0,0,0,10"/>
                            <TextBox x:Name="EventNotesTextBox" 
                             FontSize="16"
                             Padding="10"
                             TextWrapping="Wrap"
                             AcceptsReturn="True"
                             Height="100"/>
                        </StackPanel>

                        <!-- EsemÃ©ny informÃ¡ciÃ³k -->
                        <Border Grid.Row="4" Grid.Column="0" Grid.ColumnSpan="2" 
                        Background="#F8FAFC" 
                        BorderBrush="#E2E8F0" 
                        BorderThickness="1" 
                        CornerRadius="8" 
                        Padding="20"
                        Margin="0,0,0,20">
                            <StackPanel>
                                <TextBlock Text="EsemÃ©ny informÃ¡ciÃ³k" FontSize="18" FontWeight="SemiBold" Margin="0,0,0,15"/>
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                    </Grid.RowDefinitions>

                                    <TextBlock Grid.Row="0" Grid.Column="0" Text="EsemÃ©ny neve:" FontWeight="SemiBold" Margin="0,0,10,5"/>
                                    <TextBlock Grid.Row="0" Grid.Column="1" x:Name="EventNameInfoTextBlock" Text="-" Margin="0,0,0,5"/>

                                    <TextBlock Grid.Row="1" Grid.Column="0" Text="IdÅ‘pont:" FontWeight="SemiBold" Margin="0,0,10,5"/>
                                    <TextBlock Grid.Row="1" Grid.Column="1" x:Name="EventDateInfoTextBlock" Text="-" Margin="0,0,0,5"/>

                                    <TextBlock Grid.Row="2" Grid.Column="0" Text="HelyszÃ­n:" FontWeight="SemiBold" Margin="0,0,10,5"/>
                                    <TextBlock Grid.Row="2" Grid.Column="1" x:Name="EventLocationInfoTextBlock" Text="-" Margin="0,0,0,5"/>

                                    <TextBlock Grid.Row="3" Grid.Column="0" Text="Jegy Ã¡ra:" FontWeight="SemiBold" Margin="0,0,10,5"/>
                                    <TextBlock Grid.Row="3" Grid.Column="1" x:Name="EventPriceInfoTextBlock" Text="-" Margin="0,0,0,5"/>
                                </Grid>
                            </StackPanel>
                        </Border>

                        <!-- MentÃ©s gomb -->
                        <Button Grid.Row="5" Grid.Column="0" Grid.ColumnSpan="2"
                        Content="FoglalÃ¡s mentÃ©se" 
                        HorizontalAlignment="Center" 
                        Margin="0,20,0,0" 
                        Padding="30,15" 
                        Background="#10B981" 
                        Foreground="White" 
                        BorderThickness="0"
                        FontSize="18"
                        Click="SaveEventBookingButton_Click">
                            <Button.Resources>
                                <Style TargetType="Border">
                                    <Setter Property="CornerRadius" Value="8"/>
                                </Style>
                            </Button.Resources>
                        </Button>
                    </Grid>
                </Border>
            </ScrollViewer>
        </Grid>

        <!-- Newsletter kontÃ©ner -->
        <Grid x:Name="newsletterContainer" Grid.Row="1" Visibility="Collapsed">
            <ScrollViewer VerticalScrollBarVisibility="Auto">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <!-- FelsÅ‘ fejlÃ©c Ã©s menÃ¼ -->
                    <Grid Grid.Row="0" Background="#1E293B" Margin="0,0,0,25">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" MinWidth="100"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>

                        <!-- Vissza gomb -->
                        <Button Grid.Column="0" 
                x:Name="NewsletterBackButton"
                Content="â¬… Vissza" 
                HorizontalAlignment="Left" 
                Margin="30,20" 
                Padding="25,15" 
                Background="#3B82F6" 
                Foreground="White" 
                BorderThickness="0"
                FontSize="18"
                Click="NewsletterBackButton_Click">
                            <Button.Resources>
                                <Style TargetType="Border">
                                    <Setter Property="CornerRadius" Value="8"/>
                                </Style>
                            </Button.Resources>
                        </Button>

                        <!-- CÃ­m -->
                        <TextBlock Grid.Column="1" 
                   Text="HÃ­rlevÃ©l KÃ¼ldÃ©se" 
                   VerticalAlignment="Center" 
                   HorizontalAlignment="Center" 
                   FontSize="32" 
                   FontWeight="SemiBold" 
                   Foreground="White"/>

                        <!-- MÅ±veleti gombok -->
                        <StackPanel Grid.Column="2" Orientation="Horizontal" Margin="30,20">
                            <Button x:Name="RefreshTemplatesButton" 
                    Content="ðŸ”„ Sablonok frissÃ­tÃ©se" 
                    Margin="5,0" 
                    Padding="15,12"
                    Background="#6366F1" 
                    Foreground="White" 
                    BorderThickness="0"
                    FontSize="16"
                    Click="RefreshTemplatesButton_Click">
                                <Button.Resources>
                                    <Style TargetType="Border">
                                        <Setter Property="CornerRadius" Value="8"/>
                                    </Style>
                                </Button.Resources>
                            </Button>
                        </StackPanel>
                    </Grid>

                    <!-- Tartalom -->
                    <Grid Grid.Row="1" Margin="40,0,40,40">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <!-- Sablon vÃ¡lasztÃ³ -->
                        <Border Grid.Row="0" 
                Padding="20" 
                Margin="0,0,0,20" 
                Background="White" 
                CornerRadius="16" 
                BorderThickness="1"
                BorderBrush="#E2E8F0"
                Effect="{StaticResource BoxShadow}">
                            <StackPanel>
                                <TextBlock Text="VÃ¡lassz sablont" 
                           FontSize="20" 
                           FontWeight="SemiBold" 
                           Margin="0,0,0,15"/>
                                <ComboBox x:Name="TemplateComboBox" 
                          Padding="15,12" 
                          FontSize="16"
                          SelectionChanged="TemplateComboBox_SelectionChanged"/>
                            </StackPanel>
                        </Border>

                        <!-- Email tÃ¡rgy -->
                        <Border Grid.Row="1" 
                Padding="20" 
                Margin="0,0,0,20" 
                Background="White" 
                CornerRadius="16" 
                BorderThickness="1"
                BorderBrush="#E2E8F0"
                Effect="{StaticResource BoxShadow}">
                            <StackPanel>
                                <TextBlock Text="Email tÃ¡rgya" 
                           FontSize="20" 
                           FontWeight="SemiBold" 
                           Margin="0,0,0,15"/>
                                <TextBox x:Name="EmailSubjectTextBox" 
                         Padding="15,12" 
                         FontSize="16"/>
                            </StackPanel>
                        </Border>

                        <!-- VÃ¡ltozÃ³k szerkesztÃ©se -->
                        <Border Grid.Row="2" 
                Padding="20" 
                Margin="0,0,0,20" 
                Background="White" 
                CornerRadius="16" 
                BorderThickness="1"
                BorderBrush="#E2E8F0"
                Effect="{StaticResource BoxShadow}">
                            <StackPanel>
                                <TextBlock Text="VÃ¡ltozÃ³k szerkesztÃ©se" 
                           FontSize="20" 
                           FontWeight="SemiBold" 
                           Margin="0,0,0,15"/>
                                <StackPanel x:Name="VariablesStackPanel"/>
                            </StackPanel>
                        </Border>

                        <!-- MÅ±veleti gombok -->
                        <StackPanel Grid.Row="3" 
                    Orientation="Horizontal" 
                    HorizontalAlignment="Right" 
                    Margin="0,10,0,0">
                            <Button x:Name="SendNewsletterButton" Padding="25,15" Background="#16A34A" Foreground="White" BorderThickness="0" FontSize="16" Click="SendNewsletterButton_Click">
                                <Button.Resources>
                                    <Style TargetType="Border">
                                        <Setter Property="CornerRadius" Value="8"/>
                                    </Style>
                                </Button.Resources>
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock x:Name="SendButtonText" Text="KÃ¼ldÃ©s" />
                                    <ProgressBar x:Name="SendProgressBar" Width="20" Height="20" Margin="5,0,0,0" IsIndeterminate="True" Visibility="Collapsed" />
                                </StackPanel>
                            </Button>
                        </StackPanel>
                    </Grid>
                </Grid>
            </ScrollViewer>
        </Grid>



    </Grid>
</Window>
